"use strict";(self.webpackChunkfe_handi=self.webpackChunkfe_handi||[]).push([[9242,1343,3778,8292,3850,1106,3845],{21343:function(e,n,t){t.r(n);var r=t(1413),a=t(70885),o=t(45987),s=t(68870),l=t(39281),i=t(79836),c=t(56890),u=t(35855),d=t(53994),h=t(53382),f=t(20068),m=t(13400),x=t(20890),p=t(67492),Z=t(61889),g=t(13239),j=t(72791),b=t(41286),v=t(27247),w=t(3746),C=t(91329),y=t(79908),E=t(2702),k=t(80872),P=t(80184),S=["data","columns","onChangePage","rowsPerPage","onRowsChangePage","withPagination","withNumber","onDelete","onEdit","onComplete","onRevoked","onWithdrawn","onCancel","onView","onAccept","loading"];function _(e){var n=e.data,t=void 0===n?[]:n,_=e.columns,B=void 0===_?[]:_,R=e.onChangePage,A=(e.rowsPerPage,e.onRowsChangePage),z=e.withPagination,D=void 0!==z&&z,O=e.withNumber,W=e.onDelete,N=e.onEdit,T=e.onComplete,F=e.onRevoked,I=(e.onWithdrawn,e.onCancel),V=e.onView,H=e.onAccept,J=e.loading,U=(0,o.Z)(e,S),L=(0,j.useState)({}),M=(0,a.Z)(L,2),Y=(M[0],M[1]),q=(0,r.Z)({rowsPerPageOptions:[10,20,50,100,250],component:"div",count:1,rowsPerPage:10,page:1},U);return(0,P.jsxs)(s.Z,(0,r.Z)((0,r.Z)({},U),{},{sx:{border:"1px solid #BEBEBE",boxShadow:10},children:[(0,P.jsxs)(l.Z,{children:[(0,P.jsxs)(i.Z,{stickyHeader:!0,children:[(0,P.jsx)(c.Z,{sx:{"& th":{color:"black",backgroundColor:"#E3E4E9",fontWeight:"bold"}},children:(0,P.jsxs)(u.Z,{children:[(W||T||N||I||V||F||O)&&(0,P.jsx)(d.Z,{size:"small",align:"center",children:"#"}),B.map((function(e,n){return(0,P.jsx)(d.Z,{size:"small",sx:{whiteSpace:"noWrap"},children:e.label},n)}))]})}),(0,P.jsx)(h.Z,{children:!J&&t.map((function(e,n){return(0,P.jsxs)(u.Z,{children:[(W||N||I||V||T||F||O)&&(0,P.jsxs)(d.Z,{size:"small",align:"center",sx:{whiteSpace:"noWrap"},children:[O&&n+1,V&&(0,P.jsx)(f.Z,{title:"View",arrow:!0,children:(0,P.jsx)(m.Z,{size:"small",color:"primary",onClick:function(){return function(e){Y(e),V&&V(e)}(e)},children:(0,P.jsx)(w.Z,{})})}),H&&(0,P.jsx)(f.Z,{title:"Accept",arrow:!0,children:(0,P.jsx)(m.Z,{size:"small",color:"primary",onClick:function(){return function(e){Y(e),H&&H(e)}(e)},children:(0,P.jsx)(E.Z,{xs:{color:"green"}})})}),I&&(0,P.jsx)(f.Z,{title:"Decline",arrow:!0,children:(0,P.jsx)(m.Z,{size:"small",sx:{color:"gray"},onClick:function(){return function(e){Y(e),I&&I(e)}(e)},children:(0,P.jsx)(k.Z,{color:"warning"})})}),T&&(0,P.jsx)(f.Z,{title:"Complete contract?",arrow:!0,children:(0,P.jsx)(m.Z,{size:"small",color:"primary",onClick:function(){return function(e){Y(e),T&&T(e)}(e)},children:(0,P.jsx)(y.Z,{})})}),F&&(0,P.jsx)(f.Z,{title:"Withdrawn",arrow:!0,children:(0,P.jsx)(m.Z,{size:"small",sx:{color:"gray"},onClick:function(){return function(e){Y(e),F&&F(e)}(e)},children:(0,P.jsx)(C.Z,{})})}),N&&(0,P.jsx)(f.Z,{title:"Edit",arrow:!0,children:(0,P.jsx)(m.Z,{size:"small",sx:{color:"#00c853"},onClick:function(){return function(e){Y(e),N&&N(e)}(e)},children:(0,P.jsx)(b.Z,{})})}),W&&(0,P.jsx)(f.Z,{title:"Delete",arrow:!0,children:(0,P.jsx)(m.Z,{size:"small",color:"error",onClick:function(){return function(e){Y(e),W&&W(e)}(e)},children:(0,P.jsx)(v.Z,{})})})]}),B.map((function(t,r){var a=function(e,n){var t=n.name&&n.name.split(".")||[];if(0===t.length)return"";var r=e;return t.forEach((function(e){r=void 0!==r[e]&&null!==r[e]?r[e]:""})),Array.isArray(r)&&(r=r.join(", ")),r}(e,t),o="status"===t.name,s="inherit";return o&&("pending"===a?s="red":"accepted"===a||"in progress"===a||"posted"===a?s="green":"completed"===a?s="blue":"declined"===a?s="orange":"withdrawn"===a&&(s="gray")),(0,P.jsx)(d.Z,{size:"small",sx:{whiteSpace:"noWrap",fontWeight:o?"bold":"normal",color:s},children:t.customBodyRender?t.customBodyRender(a,e,r,n):a},"".concat(r,"-").concat(t.name))}))]},n)}))})]}),!J&&0===t.length&&(0,P.jsx)(x.Z,{align:"center",children:"No item(s) at the moment"})]}),D&&(0,P.jsx)(p.Z,(0,r.Z)({onPageChange:function(e,n){R&&R(n)},onRowsPerPageChange:function(e){A&&A(e.target.value)}},q)),J&&(0,P.jsx)(Z.ZP,{container:!0,justifyContent:"center",children:(0,P.jsx)(g.Z,{})})]}))}n.default=(0,j.memo)(_)},64253:function(e,n,t){t.r(n);var r=t(1413),a=t(45987),o=t(93006),s=(t(72791),t(80184)),l=["errors","name","customError"];n.default=function(e){var n=e.errors,t=e.name,i=e.customError,c=(0,a.Z)(e,l),u=!1,d="";i&&(u=!0,d=i),n&&(u=n&&n.has(t)||!1,d=n&&n.first(t)||"");var h=(0,r.Z)((0,r.Z)({error:u,name:t,helperText:d},c),{},{value:c.value||""});return(0,s.jsx)(o.Z,(0,r.Z)({size:"small",variant:"outlined"},h))}},53778:function(e,n,t){t.r(n);var r=t(1413),a=t(45987),o=(t(72791),t(68096)),s=t(30829),l=t(58406),i=t(77196),c=t(23786),u=t(47071),d=t(80184),h=["label","errors","options","categories","subCategories","customError"];n.default=function(e){var n=e.label,t=e.errors,f=e.options,m=void 0===f?[]:f,x=e.categories,p=void 0===x?[]:x,Z=e.subCategories,g=void 0===Z?[]:Z,j=e.customError,b=(0,a.Z)(e,h),v=!1,w="";j&&(v=j.error||!1,w=j.message||""),t&&(v=t&&t.has(e.name)||!1,w=t&&t.first(e.name)||"");var C=(0,r.Z)({margin:"dense",error:v},b);return(0,d.jsxs)(o.Z,{size:"small",sx:{width:"100%",mt:.5,mb:.5},children:[(0,d.jsx)(s.Z,{id:"dropdown-label",children:n}),(0,d.jsxs)(l.Z,(0,r.Z)((0,r.Z)({labelId:"dropdown-label",input:(0,d.jsx)(i.Z,{label:n})},C),{},{children:[m.map((function(e,n){return(0,d.jsx)(c.Z,{value:e,children:e},n)})),p.map((function(e,n){return(0,d.jsx)(c.Z,{value:e.name,children:e.name},n)})),g.map((function(e){return e.children.map((function(e,n){return(0,d.jsx)(c.Z,{value:e.name,children:e.name},n)}))}))]})),(0,d.jsx)(u.Z,{error:!0,children:w})]})}},8292:function(e,n,t){t.r(n),t.d(n,{default:function(){return a}});var r=t(75985);function a(e,n,t){return"success"===e?r.Am.success(n,t):r.Am.error(n,t)}},49293:function(e,n,t){t.r(n),t.d(n,{default:function(){return o}});var r=t(75985),a=(t(5462),t(80184));function o(){return(0,a.jsx)(r.Ix,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"})}},33850:function(e,n,t){t.r(n),t.d(n,{options:function(){return r}});var r={position:"top-right",autoClose:3e3,hideProgressBar:!1,draggable:!0,draggableDirection:0,draggablePercent:60,theme:"colored"}},19242:function(e,n,t){t.r(n),t.d(n,{default:function(){return j}});var r=t(70885),a=t(1413),o=t(45987),s=t(72791),l=t(68870),i=t(20890),c=t(39124),u=t(43896),d=t(1106),h=t(59434),f=t(80184),m=["children","value","index"];function x(e){var n=e.children,t=e.value,r=e.index,s=(0,o.Z)(e,m);return(0,f.jsx)(l.Z,(0,a.Z)((0,a.Z)({role:"tabpanel",hidden:t!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r)},s),{},{children:t===r&&(0,f.jsx)(l.Z,{sx:{mt:2},children:n})}))}function p(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var Z=[{name:"worker",label:"Contractor",customBodyRender:function(e){return e.full_name}},{name:"title",label:"Contract Name"},{name:"type",label:"Job Type"},{name:"days",label:"Days"},{name:"rate",label:"Rate"},{name:"status",label:"Status"},{name:"created_at",label:"Date Posted"}],g=[{name:"worker",label:"Contractor",customBodyRender:function(e){return e.full_name}},{name:"title",label:"Contract Name"},{name:"type",label:"Job Type"},{name:"budget",label:"Budget"},{name:"status",label:"Status"},{name:"created_at",label:"Date Posted"}];function j(){var e=s.useState(0),n=(0,r.Z)(e,2),t=n[0],o=n[1],m=(0,h.v9)((function(e){return e.users.user}));return(0,f.jsx)(l.Z,{sx:{width:"100%",mt:10},children:(0,f.jsxs)(l.Z,{sx:{p:2,width:"95%",m:"0 auto"},children:[(0,f.jsx)(i.Z,{sx:{fontSize:{xs:20,md:24},m:2},children:"My Offers"}),(0,f.jsx)(l.Z,{sx:{mt:2},children:(0,f.jsxs)(c.Z,{value:t,onChange:function(e,n){o(n)},"aria-label":"basic tabs example",children:[(0,f.jsx)(u.Z,(0,a.Z)({label:"Daily"},p(0))),(0,f.jsx)(u.Z,(0,a.Z)({label:"Fixed"},p(1)))]})}),(0,f.jsxs)(l.Z,{children:[(0,f.jsx)(x,{value:t,index:0,children:(0,f.jsx)(d.default,{type:"Daily Rate",role:m.role,columns:Z})}),(0,f.jsx)(x,{value:t,index:1,children:(0,f.jsx)(d.default,{type:"Fixed Cost",role:m.role,columns:g})})]})]})})}},1106:function(e,n,t){t.r(n);var r=t(4942),a=t(1413),o=t(70885),s=t(72791),l=t(68870),i=t(63466),c=t(36151),u=t(80911),d=t(20890),h=t(94721),f=t(23786),m=t(64253),x=t(5403),p=t(60585),Z=t(53778),g=t(80813),j=t(21343),b=t(63845),v=t(64880),w=t(49293),C=t(8292),y=t(33850),E=t(59434),k=t(3437),P=t(41143),S=t(80184),_=["Pending","Accepted","Declined","Withdrawn"],B=["Ascending","Descending"],R=["Ascending","Descending"];n.default=function(e){var n=e.type,t=e.role,A=e.columns,z=(0,v.k6)(),D=(0,E.I0)(),O=s.useState({}),W=(0,o.Z)(O,2),N=W[0],T=W[1],F=s.useState(!1),I=(0,o.Z)(F,2),V=I[0],H=I[1],J=s.useState(),U=(0,o.Z)(J,2),L=U[0],M=U[1],Y=s.useState(null),q=(0,o.Z)(Y,2),G=q[0],K=q[1],Q=s.useState(!1),X=(0,o.Z)(Q,2),$=X[0],ee=X[1],ne=s.useState(!1),te=(0,o.Z)(ne,2),re=te[0],ae=te[1],oe=s.useState({data:[],meta:{}}),se=(0,o.Z)(oe,2),le=se[0],ie=se[1],ce=s.useState({values:{search:"",status:"",order_by_date:"",order_by_rate:"",type:""}}),ue=(0,o.Z)(ce,2),de=ue[0],he=ue[1],fe=s.useState({limit:10,page:1}),me=(0,o.Z)(fe,2),xe=me[0],pe=me[1];s.useEffect((function(){he((function(e){return(0,a.Z)((0,a.Z)({},e),{},{values:(0,a.Z)((0,a.Z)({},e.values),{},{type:n})})}))}),[n]),s.useEffect((function(){pe((function(e){return{limit:e.limit,page:1}})),ge(de.values)}),[de.values]),console.log(N);var Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ae(!0),b.default.get("/offers",{params:(0,a.Z)((0,a.Z)({},xe),e)}).then((function(e){e.data.data&&ie({data:e.data.data,meta:e.data.meta}),ae(!1)}))},ge=s.useCallback(function(e){var n;return function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var o=this;n&&clearTimeout(n),n=setTimeout((function(){n=null,e.apply(o,r)}),700)}}(Ze),[]),je=function(e){var n=e.target.name,t=e.target.value,o="string"===typeof t?t.split(","):t;he((function(e){return(0,a.Z)((0,a.Z)({},e),{},{values:(0,a.Z)((0,a.Z)({},e.values),{},(0,r.Z)({},n,o))})}))},be=function(e){M(e),H(!0)};return(0,S.jsxs)(l.Z,{children:[(0,S.jsx)(w.default,{}),(0,S.jsx)(P.default,{open:V,onClose:function(){return H(!1)},onConfirm:function(){"cancel"===L?(ee(!0),b.default.post("/offer/cancel/".concat(N.id)).then((function(e){200===e.data.code?(D((0,k.updateUser)(e.data.user)),H(!1),(0,C.default)("success",e.data.message,y.options),M(null)):(0,C.default)("error",e.data.message,y.options),ee(!1)})).catch((function(e){ee(!1),(0,C.default)("error",e.message,y.options)}))):"accept"===L&&(ee(!0),b.default.post("/offer/accept/".concat(N.id)).then((function(e){200===e.data.code?(D((0,k.updateUser)(e.data.user)),(0,C.default)("success",e.data.message,y.options),z.push("/contracts")):(0,C.default)("error",e.data.message,y.options),ee(!1)})).catch((function(e){ee(!1),(0,C.default)("error",e.message,y.options)})))},loading:$,title:"accept"===L?"Accept Offer?":"Decline Offer?",message:!!L&&"Your about to ".concat(L&&L," offer, continue ?")}),(0,S.jsxs)(l.Z,{children:[(0,S.jsx)(l.Z,{children:(0,S.jsx)(l.Z,{sx:{width:"100%",backgroundColor:"#EBEBEB",p:2,borderRadius:2,mb:2},children:(0,S.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,S.jsx)(m.default,{type:"search",label:"Search",name:"search",size:"small",variant:"outlined",placeholder:"Search by Job Categories",onChange:je,value:de.values.search,InputProps:{startAdornment:(0,S.jsx)(i.Z,{position:"start",children:(0,S.jsx)(x.Z,{})}),style:{backgroundColor:"white"}},sx:{width:"100%"}}),(0,S.jsxs)(c.Z,{variant:"outlined",color:"primary",sx:{ml:1,backgroundColor:"white"},onClick:function(e){K(e.currentTarget)},children:[(0,S.jsx)(p.Z,{})," Filter"]}),(0,S.jsxs)(u.Z,{anchorEl:G,open:Boolean(G),onClose:function(){K(null)},PaperProps:{style:{minWidth:300}},children:[(0,S.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:"5px 10px"},children:[(0,S.jsx)(d.Z,{children:"Filter"}),(0,S.jsx)(c.Z,{onClick:function(){he({values:{search:"",status:"",order_by_date:"",order_by_rate:""}})},children:"Clear filter"})]}),(0,S.jsx)(h.Z,{}),(0,S.jsx)(f.Z,{children:(0,S.jsx)(Z.default,{name:"status",label:"Status",value:de.values.status,onChange:je,options:_})}),(0,S.jsx)(f.Z,{children:(0,S.jsx)(Z.default,{name:"order_by_date",label:"Order By Date",value:de.values.order_by_date,onChange:je,options:R})}),(0,S.jsx)(f.Z,{children:(0,S.jsx)(Z.default,{name:"order_by_rate",label:"Order By Rate",value:de.values.order_by_rate,onChange:je,options:B})})]})]})})}),(0,S.jsx)(j.default,{withPagination:!0,onCancel:"Worker"===t&&function(e){T(e),be("cancel")},onAccept:"Worker"===t&&function(e){T(e),be("accept")},onRevoked:"Client"===t&&function(e){console.log(e)},loading:re,data:le.data,columns:A,rowsPerPage:de.values.limit,count:le.meta.total||0,page:le.meta.current_page-1||0,onChangePage:function(e){Ze({page:e+1})},onRowsChangePage:function(e){Ze({limit:e}),function(e,n){he((function(t){return(0,a.Z)((0,a.Z)({},t),{},(0,r.Z)({},e,n))}))}("limit",e)}}),le&&0===le.data.length&&(0,S.jsxs)(l.Z,{align:"center",sx:{mt:5,p:2},children:[(0,S.jsx)(g.Z,{sx:{width:{xs:100,md:120},height:{xs:100,md:120},color:"#BEBEBE",boxShadow:20,borderRadius:3}}),"Client"===t?(0,S.jsxs)(l.Z,{children:[(0,S.jsx)(d.Z,{sx:{mt:2},children:"NO OFFERS HAVE BEEN SENT"}),(0,S.jsx)(c.Z,{sx:{width:120,mt:2,boxShadow:5},color:"primary",variant:"contained",size:"small",onClick:function(){return z.push("/new/job-offer")},children:"Send Offer"})]}):(0,S.jsx)(d.Z,{sx:{mt:2},children:"NO OFFERS HAVE BEEN RECEIVED"})]})]})]})}},63845:function(e,n,t){t.r(n);var r=t(31243).Z.create();r.defaults.baseURL="https://api-handiworks.technopreneurship.store/api",r.defaults.headers.common.Accept="application/json",r.defaults.headers.common["Content-Type"]="application/json",r.defaults.headers.common.Authorization="Bearer ".concat(localStorage.getItem("accessToken")),r.interceptors.response.use((function(e){return e}),(function(e){if("Network Error"===e.message)return Promise.reject(e);if(401===(e.response&&e.response.status))localStorage.removeItem("accessToken"),window.location.href="/login";return Promise.reject(e)})),n.default=r}}]);
//# sourceMappingURL=9242.4e1661ce.chunk.js.map