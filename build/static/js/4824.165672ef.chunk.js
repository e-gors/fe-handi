"use strict";(self.webpackChunkfe_handi=self.webpackChunkfe_handi||[]).push([[4824,8292,9293,3850,3121,3845],{8292:function(e,t,n){n.r(t),n.d(t,{default:function(){return r}});var o=n(75985);function r(e,t,n){return"success"===e?o.Am.success(t,n):o.Am.error(t,n)}},49293:function(e,t,n){n.r(t),n.d(t,{default:function(){return a}});var o=n(75985),r=(n(5462),n(80184));function a(){return(0,r.jsx)(o.Ix,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"})}},33850:function(e,t,n){n.r(t),n.d(t,{options:function(){return o}});var o={position:"top-right",autoClose:3e3,hideProgressBar:!1,draggable:!0,draggableDirection:0,draggablePercent:60,theme:"colored"}},4824:function(e,t,n){n.r(t);var o=n(42982),r=n(70885),a=n(68870),s=n(13239),i=n(13400),c=n(72791),u=n(42419),d=n(8292),l=n(33850),p=n(63845),f=n(59434),h=n(49293),g=n(53121),m=n(27247),v=n(80184),j={addImagesWrapper:{minWidth:210,height:280,border:"2px dashed #BEBEBE",p:2,borderRadius:3,display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",m:1,"&:hover":{border:"2px dashed blue",".add-btn":{color:"blue"}}},loadingWrapper:{width:200,height:280,display:"flex",justifyContent:"center",alignItems:"center"},addButtonWrapper:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},deleteButton:{position:"absolute",top:5,right:5,color:"red",zIndex:1,display:"none"}},x=10;t.default=function(){var e=(0,f.I0)(),t=(0,f.v9)((function(e){return e.projects.projects})),n=c.useState(!1),b=(0,r.Z)(n,2),y=b[0],S=b[1],Z=c.useState(!1),E=(0,r.Z)(Z,2),P=E[0],T=E[1],C=c.useState(!0),_=(0,r.Z)(C,2),w=_[0],A=_[1],R=c.useState([]),k=(0,r.Z)(R,2),O=k[0],W=k[1];c.useEffect((function(){D()}),[]);var D=function(){p.default.get("projects").then((function(t){t.data.data&&e((0,g.setProjects)(t.data.data)),A(!1)})).catch((function(e){A(!1),console.warn(e.message)}))},I=function(t){S(!0);var n=new FormData;t.forEach((function(e){n.append("images[]",e.file)})),p.default.post("new/projects",n).then((function(t){200===t.data.code?e((0,g.updateProjects)(t.data.projects)):(0,d.default)("error",t.data.message,l.options),S(!1)})).catch((function(e){S(!1),(0,d.default)("error",e.message,l.options)}))};return(0,v.jsxs)(c.Fragment,{children:[w&&(0,v.jsx)(a.Z,{align:"center",children:(0,v.jsx)(s.Z,{size:36})}),!w&&(0,v.jsxs)(a.Z,{sx:{display:"flex",flexWrap:{xs:"noWrap",sm:"noWrap",md:"wrap"},overflowX:"auto"},children:[(0,v.jsx)(h.default,{}),(0,v.jsxs)(a.Z,{component:"form",encType:"multipart/form-data",sx:j.addImagesWrapper,onDragOver:function(e){e.preventDefault()},onDrop:function(e){e.preventDefault();var t=Array.from(e.dataTransfer.files);O.length+t.length>x?(0,d.default)("error","You can only upload ".concat(x," images."),l.options):(W((function(e){return[].concat((0,o.Z)(e),t)})),I(t))},children:[(0,v.jsx)("input",{id:"multiple-images",type:"file",accept:"image/*",multiple:!0,style:{display:"none"},onChange:function(e){var t=e.target.files,n=[];if(t&&t.length>0){for(var r=O.length+t.length,a=r>x?x-O.length:t.length,s=function(e){var r=new FileReader;r.readAsDataURL(t[e]),r.onload=function(){var s=r.result,i=new File([t[e]],t[e].name,{type:"image/jpeg"});n.push({file:i,url:s}),n.length===a&&(W([].concat((0,o.Z)(O),n)),I(n))}},i=0;i<a;i++)s(i);r>x&&(0,d.default)("error","You can only upload ".concat(x," images at a time!"),l.options)}}}),(0,v.jsx)(a.Z,{component:"label",htmlFor:"multiple-images",sx:{cursor:"pointer",width:"100%",height:"100%"},children:(0,v.jsx)(a.Z,{sx:j.addButtonWrapper,children:(0,v.jsx)(u.Z,{className:"add-btn"})})})]}),y&&(0,v.jsx)(a.Z,{sx:j.loadingWrapper,children:(0,v.jsx)(s.Z,{size:36})}),!y&&t&&t.length>0&&t.map((function(t,n){return(0,v.jsx)(a.Z,{sx:{minWidth:210,height:280,background:"url(".concat(t.image,")"),backgroundSize:"cover",backgroundPosition:"center",borderRadius:3,boxShadow:3,m:1,position:"relative","&::after":{content:"''",position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",opacity:0,transition:"opacity 0.5s",borderRadius:3},"&:hover::after":{opacity:1},"&:hover .remove-btn":{display:"block"}},children:(0,v.jsx)(i.Z,{className:"remove-btn",sx:j.deleteButton,onClick:function(){return n=t.id,T(!0),void p.default.delete("/projects/".concat(n)).then((function(t){200===t.data.code?((0,d.default)("success",t.data.message,l.options),e((0,g.updateProjects)(t.data.projects))):(0,d.default)("error",t.data.message,l.options),T(!1)})).catch((function(e){T(!1),(0,d.default)("error",e.message,l.options)}));var n},children:P?(0,v.jsx)(s.Z,{size:24}):(0,v.jsx)(m.Z,{color:"error",className:"remove-btn",sx:j.deleteButton})})},n)}))]})]})}},53121:function(e,t,n){n.r(t),n.d(t,{setProjects:function(){return r},updateProjects:function(){return a}});var o=n(26527),r=function(e){return{type:o.ActionTypes.SET_USER_PROJECTS,payload:e}},a=function(e){return{type:o.ActionTypes.UPDATE_USER_PROJECTS,payload:e}}},63845:function(e,t,n){n.r(t);var o=n(31243).Z.create();o.defaults.baseURL={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_DOMAIN,o.defaults.headers.common.Accept="application/json",o.defaults.headers.common["Content-Type"]="application/json",o.defaults.headers.common.Authorization="Bearer ".concat(localStorage.getItem("accessToken")),o.interceptors.response.use((function(e){return e}),(function(e){if("Network Error"===e.message)return Promise.reject(e);if(401===(e.response&&e.response.status))localStorage.removeItem("accessToken"),window.location.href="/login";return Promise.reject(e)})),t.default=o},42419:function(e,t,n){var o=n(64836);t.Z=void 0;var r=o(n(45649)),a=n(80184),s=(0,r.default)((0,a.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.Z=s},5462:function(){}}]);
//# sourceMappingURL=4824.165672ef.chunk.js.map