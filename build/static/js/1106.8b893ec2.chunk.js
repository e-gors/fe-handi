"use strict";(self.webpackChunkfe_handi=self.webpackChunkfe_handi||[]).push([[1106,1343,3778,8292,3850,3845],{21343:function(e,n,t){t.r(n);var r=t(1413),o=t(70885),a=t(45987),s=t(68870),i=t(39281),l=t(79836),c=t(56890),u=t(35855),d=t(53994),h=t(53382),f=t(20068),m=t(13400),p=t(20890),g=t(67492),x=t(61889),Z=t(13239),j=t(72791),v=t(41286),w=t(27247),b=t(3746),C=t(91329),y=t(79908),E=t(2702),k=t(80872),P=t(80184),S=["data","columns","onChangePage","rowsPerPage","onRowsChangePage","withPagination","withNumber","onDelete","onEdit","onComplete","onRevoked","onWithdrawn","onCancel","onView","onAccept","loading"];function B(e){var n=e.data,t=void 0===n?[]:n,B=e.columns,_=void 0===B?[]:B,A=e.onChangePage,z=(e.rowsPerPage,e.onRowsChangePage),R=e.withPagination,O=void 0!==R&&R,W=e.withNumber,D=e.onDelete,I=e.onEdit,N=e.onComplete,T=e.onRevoked,F=(e.onWithdrawn,e.onCancel),V=e.onView,H=e.onAccept,U=e.loading,L=(0,a.Z)(e,S),J=(0,j.useState)({}),Y=(0,o.Z)(J,2),q=(Y[0],Y[1]),G=(0,r.Z)({rowsPerPageOptions:[10,20,50,100,250],component:"div",count:1,rowsPerPage:10,page:1},L);return(0,P.jsxs)(s.Z,(0,r.Z)((0,r.Z)({},L),{},{sx:{border:"1px solid #BEBEBE",boxShadow:10},children:[(0,P.jsxs)(i.Z,{children:[(0,P.jsxs)(l.Z,{stickyHeader:!0,children:[(0,P.jsx)(c.Z,{sx:{"& th":{color:"black",backgroundColor:"#E3E4E9",fontWeight:"bold"}},children:(0,P.jsxs)(u.Z,{children:[(D||N||I||F||V||T||W)&&(0,P.jsx)(d.Z,{size:"small",align:"center",children:"#"}),_.map((function(e,n){return(0,P.jsx)(d.Z,{size:"small",sx:{whiteSpace:"noWrap"},children:e.label},n)}))]})}),(0,P.jsx)(h.Z,{children:!U&&t.map((function(e,n){return(0,P.jsxs)(u.Z,{children:[(D||I||F||V||N||T||W)&&(0,P.jsxs)(d.Z,{size:"small",align:"center",sx:{whiteSpace:"noWrap"},children:[W&&n+1,V&&(0,P.jsx)(f.Z,{title:"View",arrow:!0,children:(0,P.jsx)(m.Z,{size:"small",color:"primary",onClick:function(){return function(e){q(e),V&&V(e)}(e)},children:(0,P.jsx)(b.Z,{})})}),H&&(0,P.jsx)(f.Z,{title:"Accept",arrow:!0,children:(0,P.jsx)(m.Z,{size:"small",color:"primary",onClick:function(){return function(e){q(e),H&&H(e)}(e)},children:(0,P.jsx)(E.Z,{xs:{color:"green"}})})}),F&&(0,P.jsx)(f.Z,{title:"Decline",arrow:!0,children:(0,P.jsx)(m.Z,{size:"small",sx:{color:"gray"},onClick:function(){return function(e){q(e),F&&F(e)}(e)},children:(0,P.jsx)(k.Z,{color:"warning"})})}),N&&(0,P.jsx)(f.Z,{title:"Complete contract?",arrow:!0,children:(0,P.jsx)(m.Z,{size:"small",color:"primary",onClick:function(){return function(e){q(e),N&&N(e)}(e)},children:(0,P.jsx)(y.Z,{})})}),T&&(0,P.jsx)(f.Z,{title:"Withdrawn",arrow:!0,children:(0,P.jsx)(m.Z,{size:"small",sx:{color:"gray"},onClick:function(){return function(e){q(e),T&&T(e)}(e)},children:(0,P.jsx)(C.Z,{})})}),I&&(0,P.jsx)(f.Z,{title:"Edit",arrow:!0,children:(0,P.jsx)(m.Z,{size:"small",sx:{color:"#00c853"},onClick:function(){return function(e){q(e),I&&I(e)}(e)},children:(0,P.jsx)(v.Z,{})})}),D&&(0,P.jsx)(f.Z,{title:"Delete",arrow:!0,children:(0,P.jsx)(m.Z,{size:"small",color:"error",onClick:function(){return function(e){q(e),D&&D(e)}(e)},children:(0,P.jsx)(w.Z,{})})})]}),_.map((function(t,r){var o=function(e,n){var t=n.name&&n.name.split(".")||[];if(0===t.length)return"";var r=e;return t.forEach((function(e){r=void 0!==r[e]&&null!==r[e]?r[e]:""})),Array.isArray(r)&&(r=r.join(", ")),r}(e,t),a="status"===t.name,s="inherit";return a&&("pending"===o?s="red":"accepted"===o||"in progress"===o||"posted"===o?s="green":"completed"===o?s="blue":"declined"===o?s="orange":"withdrawn"===o&&(s="gray")),(0,P.jsx)(d.Z,{size:"small",sx:{whiteSpace:"noWrap",fontWeight:a?"bold":"normal",color:s},children:t.customBodyRender?t.customBodyRender(o,e,r,n):o},"".concat(r,"-").concat(t.name))}))]},n)}))})]}),!U&&0===t.length&&(0,P.jsx)(p.Z,{align:"center",children:"No item(s) at the moment"})]}),O&&(0,P.jsx)(g.Z,(0,r.Z)({onPageChange:function(e,n){A&&A(n)},onRowsPerPageChange:function(e){z&&z(e.target.value)}},G)),U&&(0,P.jsx)(x.ZP,{container:!0,justifyContent:"center",children:(0,P.jsx)(Z.Z,{})})]}))}n.default=(0,j.memo)(B)},64253:function(e,n,t){t.r(n);var r=t(1413),o=t(45987),a=t(93006),s=(t(72791),t(80184)),i=["errors","name","customError"];n.default=function(e){var n=e.errors,t=e.name,l=e.customError,c=(0,o.Z)(e,i),u=!1,d="";l&&(u=!0,d=l),n&&(u=n&&n.has(t)||!1,d=n&&n.first(t)||"");var h=(0,r.Z)((0,r.Z)({error:u,name:t,helperText:d},c),{},{value:c.value||""});return(0,s.jsx)(a.Z,(0,r.Z)({size:"small",variant:"outlined"},h))}},53778:function(e,n,t){t.r(n);var r=t(1413),o=t(45987),a=(t(72791),t(68096)),s=t(30829),i=t(58406),l=t(77196),c=t(23786),u=t(47071),d=t(80184),h=["label","errors","options","categories","subCategories","customError"];n.default=function(e){var n=e.label,t=e.errors,f=e.options,m=void 0===f?[]:f,p=e.categories,g=void 0===p?[]:p,x=e.subCategories,Z=void 0===x?[]:x,j=e.customError,v=(0,o.Z)(e,h),w=!1,b="";j&&(w=j.error||!1,b=j.message||""),t&&(w=t&&t.has(e.name)||!1,b=t&&t.first(e.name)||"");var C=(0,r.Z)({margin:"dense",error:w},v);return(0,d.jsxs)(a.Z,{size:"small",sx:{width:"100%",mt:.5,mb:.5},children:[(0,d.jsx)(s.Z,{id:"dropdown-label",children:n}),(0,d.jsxs)(i.Z,(0,r.Z)((0,r.Z)({labelId:"dropdown-label",input:(0,d.jsx)(l.Z,{label:n})},C),{},{children:[m.map((function(e,n){return(0,d.jsx)(c.Z,{value:e,children:e},n)})),g.map((function(e,n){return(0,d.jsx)(c.Z,{value:e.name,children:e.name},n)})),Z.map((function(e){return e.children.map((function(e,n){return(0,d.jsx)(c.Z,{value:e.name,children:e.name},n)}))}))]})),(0,d.jsx)(u.Z,{error:!0,children:b})]})}},8292:function(e,n,t){t.r(n),t.d(n,{default:function(){return o}});var r=t(75985);function o(e,n,t){return"success"===e?r.Am.success(n,t):r.Am.error(n,t)}},49293:function(e,n,t){t.r(n),t.d(n,{default:function(){return a}});var r=t(75985),o=(t(5462),t(80184));function a(){return(0,o.jsx)(r.Ix,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"})}},33850:function(e,n,t){t.r(n),t.d(n,{options:function(){return r}});var r={position:"top-right",autoClose:3e3,hideProgressBar:!1,draggable:!0,draggableDirection:0,draggablePercent:60,theme:"colored"}},1106:function(e,n,t){t.r(n);var r=t(4942),o=t(1413),a=t(70885),s=t(72791),i=t(68870),l=t(63466),c=t(36151),u=t(80911),d=t(20890),h=t(94721),f=t(23786),m=t(64253),p=t(5403),g=t(60585),x=t(53778),Z=t(80813),j=t(21343),v=t(63845),w=t(64880),b=t(49293),C=t(8292),y=t(33850),E=t(59434),k=t(3437),P=t(41143),S=t(80184),B=["Pending","Accepted","Declined","Withdrawn"],_=["Ascending","Descending"],A=["Ascending","Descending"];n.default=function(e){var n=e.type,t=e.role,z=e.columns,R=(0,w.k6)(),O=(0,E.I0)(),W=s.useState({}),D=(0,a.Z)(W,2),I=D[0],N=D[1],T=s.useState(!1),F=(0,a.Z)(T,2),V=F[0],H=F[1],U=s.useState(),L=(0,a.Z)(U,2),J=L[0],Y=L[1],q=s.useState(null),G=(0,a.Z)(q,2),K=G[0],M=G[1],Q=s.useState(!1),X=(0,a.Z)(Q,2),$=X[0],ee=X[1],ne=s.useState(!1),te=(0,a.Z)(ne,2),re=te[0],oe=te[1],ae=s.useState({data:[],meta:{}}),se=(0,a.Z)(ae,2),ie=se[0],le=se[1],ce=s.useState({values:{search:"",status:"",order_by_date:"",order_by_rate:"",type:""}}),ue=(0,a.Z)(ce,2),de=ue[0],he=ue[1],fe=s.useState({limit:10,page:1}),me=(0,a.Z)(fe,2),pe=me[0],ge=me[1];s.useEffect((function(){he((function(e){return(0,o.Z)((0,o.Z)({},e),{},{values:(0,o.Z)((0,o.Z)({},e.values),{},{type:n})})}))}),[n]),s.useEffect((function(){ge((function(e){return{limit:e.limit,page:1}})),Ze(de.values)}),[de.values]);var xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};oe(!0),v.default.get("/offers",{params:(0,o.Z)((0,o.Z)({},pe),e)}).then((function(e){e.data.data&&le({data:e.data.data,meta:e.data.meta}),oe(!1)}))},Ze=s.useCallback(function(e){var n;return function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var a=this;n&&clearTimeout(n),n=setTimeout((function(){n=null,e.apply(a,r)}),700)}}(xe),[]),je=function(e){var n=e.target.name,t=e.target.value,a="string"===typeof t?t.split(","):t;he((function(e){return(0,o.Z)((0,o.Z)({},e),{},{values:(0,o.Z)((0,o.Z)({},e.values),{},(0,r.Z)({},n,a))})}))},ve=function(e){Y(e),H(!0)};return(0,S.jsxs)(i.Z,{children:[(0,S.jsx)(b.default,{}),(0,S.jsx)(P.default,{open:V,onClose:function(){return H(!1)},onConfirm:function(){"cancel"===J?(ee(!0),v.default.post("/offer/cancel/".concat(I.id)).then((function(e){200===e.data.code?(O((0,k.updateUser)(e.data.user)),H(!1),(0,C.default)("success",e.data.message,y.options),Y(null)):(0,C.default)("error",e.data.message,y.options),ee(!1)})).catch((function(e){ee(!1),(0,C.default)("error",e.message,y.options)}))):"accept"===J&&(ee(!0),v.default.post("/offer/accept/".concat(I.id)).then((function(e){200===e.data.code?(O((0,k.updateUser)(e.data.user)),(0,C.default)("success",e.data.message,y.options),R.push("/contracts")):(0,C.default)("error",e.data.message,y.options),ee(!1)})).catch((function(e){ee(!1),(0,C.default)("error",e.message,y.options)})))},loading:$,title:"accept"===J?"Accept Offer?":"Decline Offer?",message:!!J&&"Your about to ".concat(J&&J," offer, continue ?")}),(0,S.jsxs)(i.Z,{children:[(0,S.jsx)(i.Z,{children:(0,S.jsx)(i.Z,{sx:{width:"100%",backgroundColor:"#EBEBEB",p:2,borderRadius:2,mb:2},children:(0,S.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,S.jsx)(m.default,{type:"search",label:"Search",name:"search",size:"small",variant:"outlined",placeholder:"Search by Job Categories",onChange:je,value:de.values.search,InputProps:{startAdornment:(0,S.jsx)(l.Z,{position:"start",children:(0,S.jsx)(p.Z,{})}),style:{backgroundColor:"white"}},sx:{width:"100%"}}),(0,S.jsxs)(c.Z,{variant:"outlined",color:"primary",sx:{ml:1,backgroundColor:"white"},onClick:function(e){M(e.currentTarget)},children:[(0,S.jsx)(g.Z,{})," Filter"]}),(0,S.jsxs)(u.Z,{anchorEl:K,open:Boolean(K),onClose:function(){M(null)},PaperProps:{style:{minWidth:300}},children:[(0,S.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:"5px 10px"},children:[(0,S.jsx)(d.Z,{children:"Filter"}),(0,S.jsx)(c.Z,{onClick:function(){he({values:{search:"",status:"",order_by_date:"",order_by_rate:""}})},children:"Clear filter"})]}),(0,S.jsx)(h.Z,{}),(0,S.jsx)(f.Z,{children:(0,S.jsx)(x.default,{name:"status",label:"Status",value:de.values.status,onChange:je,options:B})}),(0,S.jsx)(f.Z,{children:(0,S.jsx)(x.default,{name:"order_by_date",label:"Order By Date",value:de.values.order_by_date,onChange:je,options:A})}),(0,S.jsx)(f.Z,{children:(0,S.jsx)(x.default,{name:"order_by_rate",label:"Order By Rate",value:de.values.order_by_rate,onChange:je,options:_})})]})]})})}),(0,S.jsx)(j.default,{withPagination:!0,onCancel:"Worker"===t&&function(e){N(e),ve("cancel")},onAccept:"Worker"===t&&function(e){N(e),ve("accept")},onRevoked:"Client"===t&&function(e){console.log(e)},loading:re,data:ie.data,columns:z,rowsPerPage:de.values.limit,count:ie.meta.total||0,page:ie.meta.current_page-1||0,onChangePage:function(e){xe({page:e+1})},onRowsChangePage:function(e){xe({limit:e}),function(e,n){he((function(t){return(0,o.Z)((0,o.Z)({},t),{},(0,r.Z)({},e,n))}))}("limit",e)}}),ie&&0===ie.data.length&&(0,S.jsxs)(i.Z,{align:"center",sx:{mt:5,p:2},children:[(0,S.jsx)(Z.Z,{sx:{width:{xs:100,md:120},height:{xs:100,md:120},color:"#BEBEBE",boxShadow:20,borderRadius:3}}),"Client"===t?(0,S.jsxs)(i.Z,{children:[(0,S.jsx)(d.Z,{sx:{mt:2},children:"NO OFFERS HAVE BEEN SENT"}),(0,S.jsx)(c.Z,{sx:{width:120,mt:2,boxShadow:5},color:"primary",variant:"contained",size:"small",onClick:function(){return R.push("/new/job-offer")},children:"Send Offer"})]}):(0,S.jsx)(d.Z,{sx:{mt:2},children:"NO OFFERS HAVE BEEN RECEIVED"})]})]})]})}},63845:function(e,n,t){t.r(n);var r=t(31243).Z.create();r.defaults.baseURL="https://api-handiworks.technopreneurship.store/api",r.defaults.headers.common.Accept="application/json",r.defaults.headers.common["Content-Type"]="application/json",r.defaults.headers.common.Authorization="Bearer ".concat(localStorage.getItem("accessToken")),r.interceptors.response.use((function(e){return e}),(function(e){if("Network Error"===e.message)return Promise.reject(e);if(401===(e.response&&e.response.status))localStorage.removeItem("accessToken"),window.location.href="/login";return Promise.reject(e)})),n.default=r}}]);
//# sourceMappingURL=1106.8b893ec2.chunk.js.map