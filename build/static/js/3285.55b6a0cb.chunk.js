"use strict";(self.webpackChunkfe_handi=self.webpackChunkfe_handi||[]).push([[3285,8292,9293,3850,3845],{64253:function(e,r,s){s.r(r);var n=s(1413),t=s(45987),a=s(93006),i=(s(72791),s(80184)),o=["errors","name","customError"];r.default=function(e){var r=e.errors,s=e.name,l=e.customError,c=(0,t.Z)(e,o),d=!1,u="";l&&(d=!0,u=l),r&&(d=r&&r.has(s)||!1,u=r&&r.first(s)||"");var x=(0,n.Z)((0,n.Z)({error:d,name:s,helperText:u},c),{},{value:c.value||""});return(0,i.jsx)(a.Z,(0,n.Z)({size:"small",variant:"outlined"},x))}},8292:function(e,r,s){s.r(r),s.d(r,{default:function(){return t}});var n=s(75985);function t(e,r,s){return"success"===e?n.Am.success(r,s):n.Am.error(r,s)}},49293:function(e,r,s){s.r(r),s.d(r,{default:function(){return a}});var n=s(75985),t=(s(5462),s(80184));function a(){return(0,t.jsx)(n.Ix,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"})}},33850:function(e,r,s){s.r(r),s.d(r,{options:function(){return n}});var n={position:"top-right",autoClose:3e3,hideProgressBar:!1,draggable:!0,draggableDirection:0,draggablePercent:60,theme:"colored"}},3285:function(e,r,s){s.r(r);var n=s(4942),t=s(1413),a=s(70885),i=s(72791),o=s(68870),l=s(20890),c=s(13400),d=s(13239),u=s(94721),x=s(36151),f=s(88471),m=s(67371),h=s(46175),Z=s(59505),p=s(64253),v=s(31783),j=s(63845),g=s(49293),b=s(59434),C=s(33850),S=s(8292),z=s(3437),y=s(41143),k=s(64880),I=s(80184),P=new v.ZP.Validator({email:"required|email|regex:^[a-zA-Z0-9]+.[^s@]+@gmail.com$"}),_=new v.ZP.Validator({address:"required"}),E=new v.ZP.Validator({contact_number:"required|max:11|numeric|regex:^09[0-9]{9}$"}),w={mainWrapper:{display:"flex",alignItems:"center",flexWrap:"wrap"},bigIcon:{mr:2,color:"green",fontSize:{xs:30,md:40}},editIcon:{fontSize:18,color:"blue"},iconButton:{ml:.5},left:{display:"flex",width:{xs:"100%",sm:"50%",md:"50%"},alignItems:"center",justifyContent:{xs:"center",sm:"left",md:"left"},mb:{xs:2,md:0}},right:{width:{xs:"100%",sm:"50%",md:"50%"}},title:{fontWeight:700,fontSize:{xs:14,md:18}},dataWrapper:{mt:1},data:{display:"flex",alignItems:"center"},center:{textAlign:{xs:"center",sm:"left",md:"left"}},divider:{mt:5,mb:5,boxShaodw:3}};r.default=function(e){var r=e.user,s=(0,b.I0)(),v=(0,k.k6)(),A=i.useState(!1),T=(0,a.Z)(A,2),O=T[0],W=T[1],N=i.useState(!1),L=(0,a.Z)(N,2),M=L[0],B=L[1],D=i.useState(!1),H=(0,a.Z)(D,2),U=H[0],V=H[1],R=i.useState(""),K=(0,a.Z)(R,2),F=K[0],q=K[1],$=i.useState({values:{email:""},errors:P.errors}),G=(0,a.Z)($,2),Y=G[0],J=G[1],Q=i.useState({values:{contact_number:""},errors:E.errors}),X=(0,a.Z)(Q,2),ee=X[0],re=X[1],se=i.useState({values:{address:""},errors:_.errors}),ne=(0,a.Z)(se,2),te=ne[0],ae=ne[1],ie=function(e){V(!U),q(e)},oe=function(e){"Enter"===e.key&&("email"===F?le(Y.values,P,"email"):"phone"===F?le(ee.values,E,"email"):le(te.values,_,"email"))},le=function(e,r,n){r.validateAll(e).then((function(e){e?"email"===n?(W(!0),j.default.post("/account/update/email",Y.values).then((function(e){200===e.data.code?(s((0,z.updateUser)(e.data.user)),V(!1),q(""),J({values:{email:""}}),(0,S.default)("success",e.data.message,C.options)):(0,S.default)("error",e.data.message,C.options),W(!1)})).catch((function(e){W(!1),(0,S.default)("error",e.message,C.options)}))):"phone"===n?(W(!0),j.default.post("/account/update/phone",ee.values).then((function(e){200===e.data.code?(s((0,z.updateUser)(e.data.user)),V(!1),q(""),re({values:{contact_number:""}}),(0,S.default)("success",e.data.message,C.options)):(0,S.default)("error",e.data.message,C.options),W(!1)})).catch((function(e){W(!1),(0,S.default)("error",e.message,C.options)}))):(W(!0),j.default.post("/update/address",te.values).then((function(e){200===e.data.code?(s((0,z.updateUser)(e.data.user)),V(!1),q(""),ae({values:{address:""}}),(0,S.default)("success",e.data.message,C.options)):(0,S.default)("error",e.data.message,C.options),W(!1)})).catch((function(e){W(!1),(0,S.default)("error",e.message,C.options)}))):"email"===n?J((function(e){return(0,t.Z)((0,t.Z)({},e),{},{errors:P.errors})})):"phone"===n?re((function(e){return(0,t.Z)((0,t.Z)({},e),{},{errors:E.errors})})):ae((function(e){return(0,t.Z)((0,t.Z)({},e),{},{errors:_.errors})}))}))};return(0,I.jsxs)(o.Z,{children:[(0,I.jsx)(g.default,{}),(0,I.jsx)(y.default,{open:M,title:"Delete you account?",message:"This will delete your account forever.",onClose:function(){return B(!1)},onConfirm:function(){j.default.delete("/account/terminate").then((function(e){200===e.data.code?((0,S.default)("success",e.data.message,C.options),localStorage.clear(),setTimeout((function(){return v.push("/login",300)}))):(0,S.default)("error",e.data.message,C.options)})).catch((function(e){(0,S.default)("error",e.message,C.options)}))}}),(0,I.jsxs)(o.Z,{sx:w.mainWrapper,children:[(0,I.jsxs)(o.Z,{sx:w.left,children:[(0,I.jsx)(m.Z,{sx:w.bigIcon}),(0,I.jsx)(l.Z,{sx:w.title,children:"BASIC INFO"})]}),(0,I.jsxs)(o.Z,{sx:w.right,children:[(0,I.jsxs)(o.Z,{sx:w.dataWrapper,children:[(0,I.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,I.jsx)(l.Z,{children:"Email"}),(0,I.jsx)(c.Z,{sx:w.iconButton,onClick:function(){return ie("email")},children:(0,I.jsx)(f.Z,{sx:w.editIcon})})]}),(0,I.jsx)(o.Z,{sx:w.data,children:(0,I.jsx)(l.Z,{children:null===r||void 0===r?void 0:r.email})}),U&&"email"===F&&(0,I.jsxs)(o.Z,{children:[(0,I.jsxs)(o.Z,{sx:{mb:1},children:[(0,I.jsx)(l.Z,{sx:{fontSize:12},children:"New Email *"}),(0,I.jsx)(p.default,{name:"email",label:"New Email",size:"small",fullWidth:!0,onKeyPress:oe,value:Y.values.email,onChange:function(e){var r=e.target.name,s=e.target.value;J((function(e){return(0,t.Z)((0,t.Z)({},e),{},{values:(0,t.Z)((0,t.Z)({},e.values),{},(0,n.Z)({},r,s))})}));var a=P.errors;P.validate(r,s).then((function(){J((function(e){return(0,t.Z)((0,t.Z)({},e),{},{errors:a})}))}))},errors:Y.errors,InputProps:{style:{background:"rgba(255, 255, 255, 0.5)",coor:"black"}}})]}),(0,I.jsxs)(o.Z,{sx:{display:"flex",justifyContent:"right"},children:[(0,I.jsx)(x.Z,{variant:"outlined",color:"primary",size:"small",onClick:function(){return ie("email")},children:"Cancel"}),(0,I.jsx)(x.Z,{variant:"contained",color:"error",size:"small",sx:{ml:1},onClick:function(){return le(Y.values,P,"email")},disabled:O,children:O?(0,I.jsx)(d.Z,{size:24}):"Submit"})]})]})]}),(0,I.jsxs)(o.Z,{sx:w.dataWrapper,children:[(0,I.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,I.jsx)(l.Z,{children:"Phone"}),(0,I.jsx)(c.Z,{sx:w.iconButton,onClick:function(){return ie("phone")},children:(0,I.jsx)(f.Z,{sx:w.editIcon})})]}),(0,I.jsxs)(o.Z,{sx:w.data,children:[r.contact_number&&(0,I.jsx)(l.Z,{children:null===r||void 0===r?void 0:r.contact_number}),!r.contact_number&&(0,I.jsx)(l.Z,{children:"Not Set"})]}),U&&"phone"===F&&(0,I.jsxs)(o.Z,{children:[(0,I.jsxs)(o.Z,{sx:{mb:1},children:[(0,I.jsx)(l.Z,{sx:{fontSize:12},children:"New phone number *"}),(0,I.jsx)(p.default,{name:"contact_number",label:"Phone Number",size:"small",fullWidth:!0,onKeyPress:oe,value:ee.values.contact_number,onChange:function(e){var r=e.target.name,s=e.target.value;re((function(e){return(0,t.Z)((0,t.Z)({},e),{},{values:(0,t.Z)((0,t.Z)({},e.values),{},(0,n.Z)({},r,s))})}));var a=E.errors;E.validate(r,s).then((function(){re((function(e){return(0,t.Z)((0,t.Z)({},e),{},{errors:a})}))}))},errors:ee.errors,InputProps:{style:{background:"rgba(255, 255, 255, 0.5)",coor:"black"}},inputProps:{inputMode:"numeric",pattern:"[0-9]*",maxLength:11}})]}),(0,I.jsxs)(o.Z,{sx:{display:"flex",justifyContent:"right"},children:[(0,I.jsx)(x.Z,{variant:"outlined",color:"primary",size:"small",onClick:function(){return ie("phone")},children:"Cancel"}),(0,I.jsx)(x.Z,{variant:"contained",color:"error",size:"small",sx:{ml:1},onClick:function(){return le(ee.values,E,"phone")},disabled:O,children:O?(0,I.jsx)(d.Z,{size:24}):"Submit"})]})]})]}),(0,I.jsxs)(o.Z,{sx:w.dataWrapper,children:[(0,I.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,I.jsx)(l.Z,{children:"Location"}),(0,I.jsx)(c.Z,{sx:w.iconButton,onClick:function(){return ie("address")},children:(0,I.jsx)(f.Z,{sx:w.editIcon})})]}),(0,I.jsxs)(o.Z,{sx:w.data,children:[r.profile[0].address&&(0,I.jsx)(l.Z,{children:r.profile[0].address}),!r.profile[0].address&&(0,I.jsx)(l.Z,{children:"Not Set"})]}),U&&"address"===F&&(0,I.jsxs)(o.Z,{children:[(0,I.jsxs)(o.Z,{sx:{mb:1},children:[(0,I.jsx)(l.Z,{sx:{fontSize:12},children:"New Address *"}),(0,I.jsx)(p.default,{name:"address",label:"New Address",size:"small",fullWidth:!0,onKeyPress:oe,value:te.values.address,onChange:function(e){var r=e.target.name,s=e.target.value;ae((function(e){return(0,t.Z)((0,t.Z)({},e),{},{values:(0,t.Z)((0,t.Z)({},e.values),{},(0,n.Z)({},r,s))})}));var a=_.errors;_.validate(r,s).then((function(){ae((function(e){return(0,t.Z)((0,t.Z)({},e),{},{errors:a})}))}))},errors:te.errors,InputProps:{style:{background:"rgba(255, 255, 255, 0.5)",coor:"black"}}})]}),(0,I.jsxs)(o.Z,{sx:{display:"flex",justifyContent:"right"},children:[(0,I.jsx)(x.Z,{variant:"outlined",color:"primary",size:"small",onClick:function(){return ie("address")},children:"Cancel"}),(0,I.jsx)(x.Z,{variant:"contained",color:"error",size:"small",sx:{ml:1},onClick:function(){return le(te.values,_,"address")},disabled:O,children:O?(0,I.jsx)(d.Z,{size:24}):"Submit"})]})]})]})]})]}),(0,I.jsx)(u.Z,{sx:w.divider}),(0,I.jsxs)(o.Z,{sx:w.mainWrapper,children:[(0,I.jsxs)(o.Z,{sx:w.left,children:[(0,I.jsx)(h.Z,{sx:w.bigIcon}),(0,I.jsx)(l.Z,{sx:w.title,children:" SYSTEM USAGE"})]}),(0,I.jsx)(o.Z,{sx:w.right,children:(0,I.jsx)(o.Z,{sx:w.center,children:(0,I.jsx)(l.Z,{children:"client"===r.role?"Hire only":"Work only"})})})]}),(0,I.jsx)(u.Z,{sx:w.divider}),(0,I.jsxs)(o.Z,{sx:w.mainWrapper,children:[(0,I.jsxs)(o.Z,{sx:w.left,children:[(0,I.jsx)(Z.Z,{sx:w.bigIcon}),(0,I.jsx)(l.Z,{sx:w.title,children:"DELETE ACCOUNT"})]}),(0,I.jsx)(o.Z,{sx:w.right,children:(0,I.jsx)(o.Z,{sx:w.center,children:(0,I.jsx)(x.Z,{variant:"contained",color:"error",size:"small",onClick:function(){return B(!0)},children:"Delete"})})})]}),(0,I.jsx)(u.Z,{sx:w.divider})]})}},63845:function(e,r,s){s.r(r);var n=s(31243).Z.create();n.defaults.baseURL={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_DOMAIN,n.defaults.headers.common.Accept="application/json",n.defaults.headers.common["Content-Type"]="application/json",n.defaults.headers.common.Authorization="Bearer ".concat(localStorage.getItem("accessToken")),n.interceptors.response.use((function(e){return e}),(function(e){if("Network Error"===e.message)return Promise.reject(e);if(401===(e.response&&e.response.status))localStorage.removeItem("accessToken"),window.location.href="/login";return Promise.reject(e)})),r.default=n},67371:function(e,r,s){var n=s(64836);r.Z=void 0;var t=n(s(45649)),a=s(80184),i=(0,t.default)([(0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7.35 18.5C8.66 17.56 10.26 17 12 17s3.34.56 4.65 1.5c-1.31.94-2.91 1.5-4.65 1.5s-3.34-.56-4.65-1.5zm10.79-1.38C16.45 15.8 14.32 15 12 15s-4.45.8-6.14 2.12C4.7 15.73 4 13.95 4 12c0-4.42 3.58-8 8-8s8 3.58 8 8c0 1.95-.7 3.73-1.86 5.12z"},"0"),(0,a.jsx)("path",{d:"M12 6c-1.93 0-3.5 1.57-3.5 3.5S10.07 13 12 13s3.5-1.57 3.5-3.5S13.93 6 12 6zm0 5c-.83 0-1.5-.67-1.5-1.5S11.17 8 12 8s1.5.67 1.5 1.5S12.83 11 12 11z"},"1")],"AccountCircleOutlined");r.Z=i},46175:function(e,r,s){var n=s(64836);r.Z=void 0;var t=n(s(45649)),a=s(80184),i=(0,t.default)((0,a.jsxs)("g",{fillRule:"evenodd",children:[(0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),(0,a.jsx)("path",{d:"M13.49 11.38c.43-1.22.17-2.64-.81-3.62-1.11-1.11-2.79-1.3-4.1-.59l2.35 2.35-1.41 1.41-2.35-2.35c-.71 1.32-.52 2.99.59 4.1.98.98 2.4 1.24 3.62.81l3.41 3.41c.2.2.51.2.71 0l1.4-1.4c.2-.2.2-.51 0-.71l-3.41-3.41z"})]}),"BuildCircleOutlined");r.Z=i},59505:function(e,r,s){var n=s(64836);r.Z=void 0;var t=n(s(45649)),a=s(80184),i=(0,t.default)((0,a.jsx)("path",{d:"M14.12 10.47 12 12.59l-2.13-2.12-1.41 1.41L10.59 14l-2.12 2.12 1.41 1.41L12 15.41l2.12 2.12 1.41-1.41L13.41 14l2.12-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4zM6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9z"}),"DeleteForeverOutlined");r.Z=i},88471:function(e,r,s){var n=s(64836);r.Z=void 0;var t=n(s(45649)),a=s(80184),i=(0,t.default)((0,a.jsx)("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"}),"EditOutlined");r.Z=i},5462:function(){}}]);
//# sourceMappingURL=3285.55b6a0cb.chunk.js.map