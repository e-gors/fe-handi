"use strict";(self.webpackChunkfe_handi=self.webpackChunkfe_handi||[]).push([[410,1343,3778,8292,3850,3845],{21343:function(e,n,t){t.r(n);var r=t(1413),o=t(70885),a=t(45987),s=t(68870),i=t(39281),l=t(79836),c=t(56890),u=t(35855),d=t(53994),h=t(53382),m=t(20068),f=t(13400),p=t(20890),g=t(67492),Z=t(61889),x=t(13239),j=t(72791),v=t(41286),w=t(27247),b=t(3746),C=t(91329),y=t(79908),P=t(2702),k=t(80872),E=t(80184),S=["data","columns","onChangePage","rowsPerPage","onRowsChangePage","withPagination","withNumber","onDelete","onEdit","onComplete","onRevoked","onWithdrawn","onCancel","onView","onAccept","loading"];function _(e){var n=e.data,t=void 0===n?[]:n,_=e.columns,z=void 0===_?[]:_,B=e.onChangePage,A=(e.rowsPerPage,e.onRowsChangePage),R=e.withPagination,W=void 0!==R&&R,D=e.withNumber,I=e.onDelete,T=e.onEdit,O=e.onComplete,F=e.onRevoked,N=(e.onWithdrawn,e.onCancel),H=e.onView,V=e.onAccept,L=e.loading,U=(0,a.Z)(e,S),Y=(0,j.useState)({}),q=(0,o.Z)(Y,2),G=(q[0],q[1]),J=(0,r.Z)({rowsPerPageOptions:[10,20,50,100,250],component:"div",count:1,rowsPerPage:10,page:1},U);return(0,E.jsxs)(s.Z,(0,r.Z)((0,r.Z)({},U),{},{sx:{border:"1px solid #BEBEBE",boxShadow:10},children:[(0,E.jsxs)(i.Z,{children:[(0,E.jsxs)(l.Z,{stickyHeader:!0,children:[(0,E.jsx)(c.Z,{sx:{"& th":{color:"black",backgroundColor:"#E3E4E9",fontWeight:"bold"}},children:(0,E.jsxs)(u.Z,{children:[(I||O||T||N||H||F||D)&&(0,E.jsx)(d.Z,{size:"small",align:"center",children:"#"}),z.map((function(e,n){return(0,E.jsx)(d.Z,{size:"small",sx:{whiteSpace:"noWrap"},children:e.label},n)}))]})}),(0,E.jsx)(h.Z,{children:!L&&t.map((function(e,n){return(0,E.jsxs)(u.Z,{children:[(I||T||N||H||O||F||D)&&(0,E.jsxs)(d.Z,{size:"small",align:"center",sx:{whiteSpace:"noWrap"},children:[D&&n+1,H&&(0,E.jsx)(m.Z,{title:"View",arrow:!0,children:(0,E.jsx)(f.Z,{size:"small",color:"primary",onClick:function(){return function(e){G(e),H&&H(e)}(e)},children:(0,E.jsx)(b.Z,{})})}),V&&(0,E.jsx)(m.Z,{title:"Accept",arrow:!0,children:(0,E.jsx)(f.Z,{size:"small",color:"primary",onClick:function(){return function(e){G(e),V&&V(e)}(e)},children:(0,E.jsx)(P.Z,{xs:{color:"green"}})})}),N&&(0,E.jsx)(m.Z,{title:"Decline",arrow:!0,children:(0,E.jsx)(f.Z,{size:"small",sx:{color:"gray"},onClick:function(){return function(e){G(e),N&&N(e)}(e)},children:(0,E.jsx)(k.Z,{color:"warning"})})}),O&&(0,E.jsx)(m.Z,{title:"Complete contract?",arrow:!0,children:(0,E.jsx)(f.Z,{size:"small",color:"primary",onClick:function(){return function(e){G(e),O&&O(e)}(e)},children:(0,E.jsx)(y.Z,{})})}),F&&(0,E.jsx)(m.Z,{title:"Withdrawn",arrow:!0,children:(0,E.jsx)(f.Z,{size:"small",sx:{color:"gray"},onClick:function(){return function(e){G(e),F&&F(e)}(e)},children:(0,E.jsx)(C.Z,{})})}),T&&(0,E.jsx)(m.Z,{title:"Edit",arrow:!0,children:(0,E.jsx)(f.Z,{size:"small",sx:{color:"#00c853"},onClick:function(){return function(e){G(e),T&&T(e)}(e)},children:(0,E.jsx)(v.Z,{})})}),I&&(0,E.jsx)(m.Z,{title:"Delete",arrow:!0,children:(0,E.jsx)(f.Z,{size:"small",color:"error",onClick:function(){return function(e){G(e),I&&I(e)}(e)},children:(0,E.jsx)(w.Z,{})})})]}),z.map((function(t,r){var o=function(e,n){var t=n.name&&n.name.split(".")||[];if(0===t.length)return"";var r=e;return t.forEach((function(e){r=void 0!==r[e]&&null!==r[e]?r[e]:""})),Array.isArray(r)&&(r=r.join(", ")),r}(e,t),a="status"===t.name,s="inherit";return a&&("pending"===o?s="red":"accepted"===o||"in progress"===o||"posted"===o?s="green":"completed"===o?s="blue":"declined"===o?s="orange":"withdrawn"===o&&(s="gray")),(0,E.jsx)(d.Z,{size:"small",sx:{whiteSpace:"noWrap",fontWeight:a?"bold":"normal",color:s},children:t.customBodyRender?t.customBodyRender(o,e,r,n):o},"".concat(r,"-").concat(t.name))}))]},n)}))})]}),!L&&0===t.length&&(0,E.jsx)(p.Z,{align:"center",children:"No item(s) at the moment"})]}),W&&(0,E.jsx)(g.Z,(0,r.Z)({onPageChange:function(e,n){B&&B(n)},onRowsPerPageChange:function(e){A&&A(e.target.value)}},J)),L&&(0,E.jsx)(Z.ZP,{container:!0,justifyContent:"center",children:(0,E.jsx)(x.Z,{})})]}))}n.default=(0,j.memo)(_)},64253:function(e,n,t){t.r(n);var r=t(1413),o=t(45987),a=t(93006),s=(t(72791),t(80184)),i=["errors","name","customError"];n.default=function(e){var n=e.errors,t=e.name,l=e.customError,c=(0,o.Z)(e,i),u=!1,d="";l&&(u=!0,d=l),n&&(u=n&&n.has(t)||!1,d=n&&n.first(t)||"");var h=(0,r.Z)((0,r.Z)({error:u,name:t,helperText:d},c),{},{value:c.value||""});return(0,s.jsx)(a.Z,(0,r.Z)({size:"small",variant:"outlined"},h))}},53778:function(e,n,t){t.r(n);var r=t(1413),o=t(45987),a=(t(72791),t(68096)),s=t(30829),i=t(58406),l=t(77196),c=t(23786),u=t(47071),d=t(80184),h=["label","errors","options","categories","subCategories","customError"];n.default=function(e){var n=e.label,t=e.errors,m=e.options,f=void 0===m?[]:m,p=e.categories,g=void 0===p?[]:p,Z=e.subCategories,x=void 0===Z?[]:Z,j=e.customError,v=(0,o.Z)(e,h),w=!1,b="";j&&(w=j.error||!1,b=j.message||""),t&&(w=t&&t.has(e.name)||!1,b=t&&t.first(e.name)||"");var C=(0,r.Z)({margin:"dense",error:w},v);return(0,d.jsxs)(a.Z,{size:"small",sx:{width:"100%",mt:.5,mb:.5},children:[(0,d.jsx)(s.Z,{id:"dropdown-label",children:n}),(0,d.jsxs)(i.Z,(0,r.Z)((0,r.Z)({labelId:"dropdown-label",input:(0,d.jsx)(l.Z,{label:n})},C),{},{children:[f.map((function(e,n){return(0,d.jsx)(c.Z,{value:e,children:e},n)})),g.map((function(e,n){return(0,d.jsx)(c.Z,{value:e.name,children:e.name},n)})),x.map((function(e){return e.children.map((function(e,n){return(0,d.jsx)(c.Z,{value:e.name,children:e.name},n)}))}))]})),(0,d.jsx)(u.Z,{error:!0,children:b})]})}},8292:function(e,n,t){t.r(n),t.d(n,{default:function(){return o}});var r=t(75985);function o(e,n,t){return"success"===e?r.Am.success(n,t):r.Am.error(n,t)}},49293:function(e,n,t){t.r(n),t.d(n,{default:function(){return a}});var r=t(75985),o=(t(5462),t(80184));function a(){return(0,o.jsx)(r.Ix,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"})}},33850:function(e,n,t){t.r(n),t.d(n,{options:function(){return r}});var r={position:"top-right",autoClose:3e3,hideProgressBar:!1,draggable:!0,draggableDirection:0,draggablePercent:60,theme:"colored"}},60410:function(e,n,t){t.r(n),t.d(n,{default:function(){return z}});var r=t(4942),o=t(1413),a=t(70885),s=t(72791),i=t(68870),l=t(63466),c=t(36151),u=t(80911),d=t(20890),h=t(94721),m=t(23786),f=t(63845),p=t(21343),g=t(64253),Z=t(5403),x=t(60585),j=t(53778),v=t(41143),w=t(8292),b=t(33850),C=t(59434),y=t(3437),P=t(49293),k=t(80184),E=["pending","in progress","feedback pending","completed","closed"],S=["Ascending","Descending"],_=["Ascending","Descending"];function z(e){var n=e.type,t=e.columns,z=(0,C.I0)(),B=s.useState(!1),A=(0,a.Z)(B,2),R=A[0],W=A[1],D=s.useState({}),I=(0,a.Z)(D,2),T=I[0],O=I[1],F=s.useState(!1),N=(0,a.Z)(F,2),H=N[0],V=N[1],L=s.useState(!1),U=(0,a.Z)(L,2),Y=U[0],q=U[1],G=s.useState(null),J=(0,a.Z)(G,2),K=J[0],M=J[1],Q=s.useState({data:[],meta:{}}),X=(0,a.Z)(Q,2),$=X[0],ee=X[1],ne=s.useState({limit:10,page:1}),te=(0,a.Z)(ne,2),re=te[0],oe=te[1],ae=s.useState({values:{search:"",status:"",order_by_date:"",order_by_rate:"",type:""}}),se=(0,a.Z)(ae,2),ie=se[0],le=se[1];s.useEffect((function(){le((function(e){return(0,o.Z)((0,o.Z)({},e),{},{values:(0,o.Z)((0,o.Z)({},e.values),{},{type:n})})}))}),[n]),s.useEffect((function(){oe((function(e){return{limit:e.limit,page:1}})),ue(ie.values)}),[ie.values]);var ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};q(!0),f.default.get("/contracts",{params:(0,o.Z)((0,o.Z)({},re),e)}).then((function(e){e.data.data&&ee({data:e.data.data,meta:e.data.meta}),q(!1)})).catch((function(e){q(!1),console.log(e.message)}))},ue=s.useCallback(function(e){var n;return function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var a=this;n&&clearTimeout(n),n=setTimeout((function(){n=null,e.apply(a,r)}),700)}}(ce),[]),de=function(e){var n=e.target.name,t=e.target.value;le((function(e){return(0,o.Z)((0,o.Z)({},e),{},{values:(0,o.Z)((0,o.Z)({},e.values),{},(0,r.Z)({},n,t))})}))};return(0,k.jsxs)(i.Z,{children:[(0,k.jsx)(P.default,{}),(0,k.jsx)(v.default,{title:"Complete Contract?",message:"You are about to change the status of your contract from 'in progress' to 'complete'",loading:H,open:R,onClose:function(){return W(!1)},onConfirm:function(){V(!0),f.default.post("/contract/complete/".concat(T.id)).then((function(e){200===e.data.code?(z((0,y.updateUser)(e.data.user)),(0,w.default)("success",e.data.message,b.options),W(!1)):(0,w.default)("error",e.data.message,b.options),V(!1)})).catch((function(e){V(!1),(0,w.default)("error",e.message,b.options)}))}}),(0,k.jsx)(i.Z,{sx:{width:"100%",backgroundColor:"#EBEBEB",p:2,borderRadius:2,mb:2},children:(0,k.jsxs)("form",{style:{display:"flex",alignItems:"center"},children:[(0,k.jsx)(g.default,{type:"search",label:"Search",name:"search",size:"small",variant:"outlined",placeholder:"Search by contractors",onChange:de,value:ie.values.search,InputProps:{startAdornment:(0,k.jsx)(l.Z,{position:"start",children:(0,k.jsx)(Z.Z,{})}),style:{backgroundColor:"white"}},sx:{width:"100%"}}),(0,k.jsxs)(c.Z,{variant:"outlined",color:"primary",sx:{ml:1,backgroundColor:"white"},onClick:function(e){M(e.currentTarget)},children:[(0,k.jsx)(x.Z,{})," Filter"]}),(0,k.jsxs)(u.Z,{anchorEl:K,open:Boolean(K),onClose:function(){M(null)},PaperProps:{style:{minWidth:300,maxHeight:400,overFlowY:"scroll"}},children:[(0,k.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:"5px 10px"},children:[(0,k.jsx)(d.Z,{children:"Filter"}),(0,k.jsx)(c.Z,{onClick:function(){le({values:{search:"",status:"",order_by_date:"",order_by_rate:"",type:"all"}})},children:"Clear filter"})]}),(0,k.jsx)(h.Z,{}),(0,k.jsx)(m.Z,{children:(0,k.jsx)(j.default,{name:"status",label:"Status",value:ie.values.status,onChange:de,options:E})}),(0,k.jsx)(m.Z,{children:(0,k.jsx)(j.default,{name:"order_by_date",label:"Order By Date",value:ie.values.order_by_date,onChange:de,options:_})}),(0,k.jsx)(m.Z,{children:(0,k.jsx)(j.default,{name:"order_by_rate",label:"Order By Rate",value:ie.values.order_by_rate,onChange:de,options:S})}),(0,k.jsx)(c.Z,{fullWidth:!0,variant:"contained",color:"primary",size:"small",sx:{mt:1},children:"Search"})]})]})}),(0,k.jsx)(p.default,{withPagination:!0,onComplete:function(e){O(e),W(!0)},onEdit:function(e){console.log(e)},onDelete:function(e){console.log(e)},loading:Y,data:$.data,columns:t,rowsPerPage:ie.values.limit,count:$.meta.total||0,page:$.meta.current_page-1||0,onChangePage:function(e,n){re.page!==n&&(q(!0),oe((function(e){return{limit:e.limit,page:n}})),ue({page:n}))},onRowsChangePage:function(e){ce({limit:e}),function(e,n){le((function(t){return(0,o.Z)((0,o.Z)({},t),{},(0,r.Z)({},e,n))}))}("limit",e)}})]})}},63845:function(e,n,t){t.r(n);var r=t(31243).Z.create();r.defaults.baseURL="https://api-handiworks.technopreneurship.store/api",r.defaults.headers.common.Accept="application/json",r.defaults.headers.common["Content-Type"]="application/json",r.defaults.headers.common.Authorization="Bearer ".concat(localStorage.getItem("accessToken")),r.interceptors.response.use((function(e){return e}),(function(e){if("Network Error"===e.message)return Promise.reject(e);if(401===(e.response&&e.response.status))localStorage.removeItem("accessToken"),window.location.href="/login";return Promise.reject(e)})),n.default=r}}]);
//# sourceMappingURL=410.bc61e1ed.chunk.js.map