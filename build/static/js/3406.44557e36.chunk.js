"use strict";(self.webpackChunkfe_handi=self.webpackChunkfe_handi||[]).push([[3406,1233],{73406:function(e,t,r){r.r(t);var a=r(70885),s=r(68870),n=r(20792),o=r(13400),l=r(20890),i=r(93044),d=r(36314),c=r(81918),u=r(36151),x=r(72791),p=r(86711),h=r(44238),m=r(59434),f=r(1233),b=r(41143),j=r(49643),Z=r(80184),y={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{xs:"95%",md:"60%"},maxWidth:900,maxHeight:"90vh",bgcolor:"background.paper",boxShadow:24,borderRadius:3},g={exitIconWrapper:{p:2,position:"relative"},exitIconButton:{position:"absolute",top:2,right:2},categoryWrapper:{display:"flex",flexWrap:"wrap",flexDirection:"row",alignItems:"center"},category:{m:.3,fontSize:{xs:12,md:14},border:"2px solid white",boxShadow:1},rateLabel:{fontWeight:"bold",fontSize:{xs:18,md:20}},rateText:{backgroundColor:"#FF9100",p:1,borderRadius:3},selectedImagesWrapper:{display:"flex",overflowX:"scroll",p:2,"::-webkit-scrollbar":{display:"none"}},imageWrapper:{ml:2,"&:hover":{".remove":{display:"block"}}},image:{width:200,height:120,border:"1px solid #BEBEBE",borderRadius:5,"&:hover":{border:"1px solid black",boxShadow:10}}},v=2;t.default=function(e){var t=e.open,r=e.handleClose,C=e.bids,w=e.selectedItem,D=e.handleForceUpdate,S=(0,m.v9)((function(e){return e.users.user})),k=x.useState(!1),W=(0,a.Z)(k,2),I=W[0],z=W[1],_=x.useState(!1),E=(0,a.Z)(_,2),H=E[0],T=E[1],M=x.useState(!1),B=(0,a.Z)(M,2),R=B[0],Y=B[1],q=x.useState({}),F=(0,a.Z)(q,2),P=F[0],A=F[1],V=function(){z(!1),r(),D()},L=(0,h.isAuth)()&&"Client"===S.role&&S.id===w.user_id;return(0,Z.jsx)(s.Z,{children:(0,Z.jsx)(n.Z,{open:t,onClose:r,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,Z.jsxs)(s.Z,{sx:y,children:[(0,Z.jsx)(b.default,{open:H,title:"Are you sure?",onConfirm:function(){Y(!0)},message:"Choose this worker for your project?",onClose:function(){return T(!1)}}),(0,Z.jsx)(j.default,{open:R,handleClose:function(){Y(!1),r()},selectedItem:w,bid:P}),(0,Z.jsxs)(s.Z,{sx:{p:2},children:[(0,Z.jsx)(s.Z,{sx:g.exitIconWrapper,children:(0,Z.jsx)(o.Z,{onClick:r,sx:g.exitIconButton,children:(0,Z.jsx)(p.Z,{color:"error"})})}),(0,Z.jsx)(s.Z,{sx:{mb:3},children:(0,Z.jsx)(l.Z,{sx:{fontWeight:"bold",fontSize:{xs:20,md:24}},children:"Proposals"})}),(0,Z.jsx)(s.Z,{sx:{maxHeight:"72vh",overflow:"auto","::-webkit-scrollbar":{display:"none"}},children:C&&C.map((function(e,t){var r,a=e.user.categoryChildren&&(null===(r=e.user.categoryChildren)||void 0===r?void 0:r.length)>v&&e.user.categoryChildren.slice(0,v),n=(0,h.isAuth)()&&"Worker"===S.role&&e.user_id===S.id;return(0,Z.jsxs)(x.Fragment,{children:[(0,Z.jsx)(f.default,{open:I,handleClose:function(){return z(!1)},selectedItem:w,onHandleSubmit:V,bid:e}),(0,Z.jsxs)(s.Z,{sx:{backgroundColor:"#EEEEEE",boxShadow:3,p:2,borderRadius:3,mb:2},children:[(0,Z.jsxs)(s.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,Z.jsxs)(s.Z,{sx:{display:"flex",mt:1},children:[(0,Z.jsx)(i.Z,{alt:e.profile.full_name,src:e.profile.profile_url}),(0,Z.jsxs)(s.Z,{sx:{ml:1},children:[(0,Z.jsx)(l.Z,{sx:{fontWeight:"bold",fontSize:{xs:14,md:18},cursor:"pointer","&:hover":{color:"blue"}},onClick:function(){return window.open(e.profile.profile_link)},children:e.profile.full_name}),(0,Z.jsxs)(d.Z,{sx:g.categoryWrapper,children:[a&&a.map((function(e,t){return(0,Z.jsx)(c.Z,{size:"small",label:e.name,variant:"contained",sx:g.category},t)})),e.user.categoryChildren&&e.user.categoryChildren.length>v&&(0,Z.jsx)(c.Z,{size:"small",label:"+".concat(e.user.categoryChildren&&e.user.categoryChildren.length-v),variant:"contained",sx:g.moreSkill},"".concat(t,"-more"))]}),(0,Z.jsx)(l.Z,{sx:{fontSize:{xs:12,md:13}},children:e.profile.address})]})]}),(0,Z.jsx)(s.Z,{children:(0,Z.jsxs)(l.Z,{sx:{fontWeight:"bold",fontSize:{xs:12,md:16}},children:["\u20b1",e.rate]})})]},t),(0,Z.jsx)(s.Z,{sx:{mt:2},children:(0,Z.jsx)("div",{style:{fontSize:14},dangerouslySetInnerHTML:{__html:e&&e.proposal}})}),e.images&&e.images.length>0&&(0,Z.jsxs)(s.Z,{children:[(0,Z.jsx)(l.Z,{sx:g.rateLabel,children:"Completed Projects"}),(0,Z.jsx)(s.Z,{sx:g.selectedImagesWrapper,children:e.images.map((function(e,t){return(0,Z.jsx)(s.Z,{sx:{m:.5},children:(0,Z.jsx)("img",{style:g.image,src:e.url,alt:e.name})},t)}))})]}),(0,Z.jsxs)(s.Z,{sx:{mt:2},align:"right",children:[L&&(0,Z.jsx)(u.Z,{variant:"contained",color:"primary",size:"small",onClick:function(){return A(e),void T(!0)},children:"Choose Worker"}),n&&(0,Z.jsx)(u.Z,{variant:"outlined",color:"primary",size:"small",onClick:function(){return z(!0)},children:"Edit"})]})]})]},t)}))}),C&&0===C.length&&(0,Z.jsx)(s.Z,{children:(0,Z.jsx)(l.Z,{children:"No proposals for this job post."})})]})]})})})}},1233:function(e,t,r){r.r(t);var a=r(68870),s=r(20792),n=(r(72791),r(49293)),o=r(31425),l=r(80184),i={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"95%",maxHeight:"90vh",bgcolor:"background.paper",boxShadow:24,borderRadius:3,overflow:"auto","::-webkit-scrollbar":{display:"none"}};t.default=function(e){var t=e.open,r=e.handleClose,d=e.selectedItem,c=e.onHandleSubmit,u=e.bid;return(0,l.jsxs)(a.Z,{children:[(0,l.jsx)(n.default,{}),(0,l.jsx)(s.Z,{open:t,onClose:r,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,l.jsx)(a.Z,{sx:i,children:(0,l.jsx)(o.default,{handleCancel:r,selectedItem:d,onHandleSubmit:c,bid:u,onEdit:!0})})})]})}},49643:function(e,t,r){r.r(t);var a=r(4942),s=r(1413),n=r(70885),o=r(68870),l=r(20792),i=r(13400),d=r(20890),c=r(36151),u=r(13239),x=r(72791),p=r(20376),h=r(90772),m=r(86711),f=r(97892),b=r.n(f),j=r(71652),Z=r(24750),y=r(35713),g=r(49293),v=r(8292),C=r(33850),w=r(63845),D=r(80184),S={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{xs:"95%",md:"60%"},maxHeight:"90vh",bgcolor:"background.paper",boxShadow:24,borderRadius:3},k={exitIconWrapper:{p:2,position:"relative"},exitIconButton:{position:"absolute",top:2,right:2},jobTypeWrapper:{display:"flex",flexWrap:{xs:"wrap",md:"noWrap"},justifyContent:"space-between"},jobTypeCard:{border:"1px solid blue",borderRadius:2,p:1,width:{xs:"100%",md:"48%"},m:1},card:{width:"100%",position:"relative",backgroundColor:"green"},input:{position:"absolute",top:0,right:0},cardDesWrapper:{display:"flex",alignItems:"center"},typeIcon:{fontSize:36,mr:1},cardTitle:{fontWeight:"bold",fontSize:14},cardDescription:{fontSize:12},buttonWrapper:{display:"flex",justifyContent:"right",mt:5},cancel:{mr:2},next:{maxWidth:200,background:"linear-gradient(0deg, rgba(0,3,255,1) 0%, rgba(2,126,251,1) 100%)",transition:"1s",backgroundColor:"green","&:hover":{background:"linear-gradient(0deg, rgba(0,3,255,1) 50%, rgba(2,126,251,1) 100%)"}}},W=b()();t.default=function(e){var t=e.open,r=e.handleClose,f=e.selectedItem,I=e.bid,z=x.useState(!1),_=(0,n.Z)(z,2),E=_[0],H=_[1],T=x.useState({values:{type:"Default",start_date:"",end_date:""}}),M=(0,n.Z)(T,2),B=M[0],R=M[1],Y=function(e,t){R((function(r){return(0,s.Z)((0,s.Z)({},r),{},{values:(0,s.Z)((0,s.Z)({},r.values),{},(0,a.Z)({},e,t))})}))},q=function(){var e=new Date,t=null===f||void 0===f?void 0:f.days,r=new Date;r.setDate(e.getDate()+(8-e.getDay()));var a="Default"===B.values.type?r:B.values.start_date;if(t){var s=t.split("-").map((function(e){return parseInt(e)})),o=(0,n.Z)(s,2),l=(o[0],o[1]),i=b()(a).add(l,"day");return{startDate:b()(a),endDate:i}}return{startDate:b()(a),endDate:b()(a).add(41,"day")}},F=q(),P=F.startDate,A=F.endDate,V=function(e){e.startDate.format("MM","DD","YYYY")?function(e){H(!0),w.default.post("choose/proposal/".concat(I.id,"/").concat(f.id),e).then((function(e){200===e.data.code?((0,v.default)("success",e.data.message,C.options),r()):(0,v.default)("error",e.data.message,C.options),H(!1)})).catch((function(e){H(!1),(0,v.default)("error",e.message,C.options)}))}(e):(0,v.default)("error","Start date is required!",C.options)};return(0,D.jsx)(o.Z,{children:(0,D.jsx)(l.Z,{open:t,onClose:r,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,D.jsxs)(o.Z,{sx:S,children:[(0,D.jsx)(g.default,{}),(0,D.jsxs)(o.Z,{sx:{mt:2},children:[(0,D.jsx)(o.Z,{sx:k.exitIconWrapper,children:(0,D.jsx)(i.Z,{onClick:r,sx:k.exitIconButton,children:(0,D.jsx)(m.Z,{color:"error"})})}),(0,D.jsxs)(o.Z,{sx:{p:2},children:[(0,D.jsxs)(o.Z,{children:[(0,D.jsx)(d.Z,{children:"Schedule Type *"}),(0,D.jsxs)(o.Z,{sx:k.jobTypeWrapper,children:[(0,D.jsx)(o.Z,{sx:k.jobTypeCard,children:(0,D.jsxs)(o.Z,{component:"label",htmlFor:"default",sx:k.card,children:[(0,D.jsx)("input",{id:"default",type:"radio",name:"type",value:"Default",checked:"Default"===B.values.type,onChange:function(e){return Y("type",e.target.value)},style:k.input}),(0,D.jsxs)(o.Z,{sx:k.cardDesWrapper,children:[(0,D.jsx)(p.Z,{color:"primary",sx:k.typeIcon}),(0,D.jsxs)(o.Z,{children:[(0,D.jsx)(d.Z,{sx:k.cardTitle,children:"Default Date"}),(0,D.jsx)(d.Z,{sx:k.cardDescription,children:"Start your job schedule next week by the Monday!"})]})]})]})}),(0,D.jsx)(o.Z,{sx:k.jobTypeCard,children:(0,D.jsxs)(o.Z,{component:"label",htmlFor:"custom",sx:k.card,children:[(0,D.jsx)("input",{id:"custom",type:"radio",name:"type",value:"Custom Date",checked:"Custom Date"===B.values.type,onChange:function(e){return Y("type",e.target.value)},style:k.input}),(0,D.jsxs)(o.Z,{sx:k.cardDesWrapper,children:[(0,D.jsx)(h.Z,{color:"primary",sx:k.typeIcon}),(0,D.jsxs)(o.Z,{children:[(0,D.jsx)(d.Z,{sx:k.cardTitle,children:"Custom Date"}),(0,D.jsx)(d.Z,{sx:k.cardDescription,children:"You can add custom schedule for your project."})]})]})]})})]})]}),"Default"===B.values.type&&(0,D.jsxs)(j._,{dateAdapter:Z.y,children:[(0,D.jsx)(d.Z,{sx:{mt:2,mb:2,fontSize:13},children:"You will not be able to edit the schedule below."}),(0,D.jsxs)(o.Z,{sx:{mt:2,display:"flex",justifyContent:"space-between"},children:[(0,D.jsx)(o.Z,{sx:{width:"95%"},children:(0,D.jsx)(y.M,{sx:{width:"95%"},label:"Start Date",value:P,disablePast:!0,readOnly:!0,required:!0,name:"start_date"})}),(0,D.jsx)(o.Z,{sx:{width:"100%"},children:(0,D.jsx)(y.M,{sx:{width:"100%"},label:"End Date",value:A,disablePast:!0,readOnly:!0,required:!0,name:"end_date"})})]})]}),"Custom Date"===B.values.type&&(0,D.jsxs)(j._,{dateAdapter:Z.y,children:[(0,D.jsx)(d.Z,{sx:{mt:2,mb:2,fontSize:13},children:"You are required to add a start date for your schedule."}),(0,D.jsxs)(o.Z,{sx:{mt:2,display:"flex",justifyContent:"space-between"},children:[(0,D.jsx)(o.Z,{sx:{width:"95%"},children:(0,D.jsx)(y.M,{sx:{width:"95%"},label:"Start Date",value:B.values.start_date,onChange:function(e){return Y("start_date",e)},disablePast:!0,minDate:W.add(3,"days"),name:"start_date",required:!0})}),(0,D.jsx)(o.Z,{sx:{width:"100%"},children:(0,D.jsx)(y.M,{sx:{width:"100%"},label:"End Date",value:A,disablePast:!0,readOnly:!0,required:!0,name:"end_date"})})]})]}),(0,D.jsxs)(o.Z,{sx:k.buttonWrapper,children:[(0,D.jsx)(c.Z,{variant:"outlined",color:"secondary",onClick:r,size:"small",sx:k.cancel,children:"Cancel"}),(0,D.jsx)(c.Z,{variant:"contained",color:"primary",onClick:function(){return V(q())},size:"small",sx:k.next,disabled:E,children:E?(0,D.jsx)(u.Z,{size:24}):"Submit"})]})]})]})]})})})}},20376:function(e,t,r){var a=r(64836);t.Z=void 0;var s=a(r(45649)),n=r(80184),o=(0,s.default)((0,n.jsx)("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"}),"CalendarToday");t.Z=o}}]);
//# sourceMappingURL=3406.44557e36.chunk.js.map