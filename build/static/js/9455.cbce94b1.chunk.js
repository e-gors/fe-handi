"use strict";(self.webpackChunkfe_handi=self.webpackChunkfe_handi||[]).push([[9455,8292,9293,3850,3845],{8292:function(e,r,t){t.r(r),t.d(r,{default:function(){return n}});var o=t(75985);function n(e,r,t){return"success"===e?o.Am.success(r,t):o.Am.error(r,t)}},49293:function(e,r,t){t.r(r),t.d(r,{default:function(){return a}});var o=t(75985),n=(t(5462),t(80184));function a(){return(0,n.jsx)(o.Ix,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"})}},33850:function(e,r,t){t.r(r),t.d(r,{options:function(){return o}});var o={position:"top-right",autoClose:3e3,hideProgressBar:!1,draggable:!0,draggableDirection:0,draggablePercent:60,theme:"colored"}},69455:function(e,r,t){t.r(r);var o=t(74165),n=t(15861),a=t(70885),s=t(68870),i=t(20890),c=t(36151),l=t(13239),d=t(72791),p=t(8292),u=t(49293),m=t(33850),h=t(63845),f=t(59434),g=t(3437),x=t(97005),j=t(35611),Z=t(44238),C=t(80184),v={wrapper:{width:"100%",height:"100%"},descriptionWrapper:{width:{xs:"100%",sm:"50%",md:"50%"},m:"0 auto"},descriptions:{fontSize:{xs:12,md:14}},description:{fontSize:"inherit"},imageCropWrapper:{position:"relative",width:"100%",height:"100%",minHeight:260,p:2,img:{width:"100%",height:"100%",objectFit:"contain",objectPosition:"center"}},buttonsWrapper:{backgroundColor:"#F4F5FB",p:2,borderRadius:3,mt:5}};r.default=function(e){var r=e.handleClose,t=e.onConfirm,S=(0,f.I0)(),w=d.useState(!1),b=(0,a.Z)(w,2),P=b[0],T=b[1],_=d.useState(null),k=(0,a.Z)(_,2),I=k[0],O=k[1],y=d.useState({x:0,y:0}),A=(0,a.Z)(y,2),F=A[0],E=A[1],R=d.useState(1),W=(0,a.Z)(R,2),z=W[0],D=W[1],B=d.useState(null),H=(0,a.Z)(B,2),L=H[0],N=H[1],U=function(){var e=(0,n.Z)((0,o.Z)().mark((function e(){var r,n,a;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),e.prev=1,e.next=4,(0,Z.CropImage)(I,L);case 4:return r=e.sent,(n=new FormData).append("profile_img",r),e.next=9,h.default.post("/upload/profile-image",n,{headers:{"Content-Type":"multipart/form-data"}});case 9:200===(a=e.sent).data.code?(O(null),S((0,g.updateUser)(a.data.user)),(0,p.default)("success",a.data.message,m.options),t()):(0,p.default)("error",a.data.message,m.options),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),413===e.t0.response.status?(0,p.default)("error","Image is too large. Please choose another image!",m.options):(0,p.default)("error",e.t0.message,m.options);case 16:return e.prev=16,T(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,13,16,19]])})));return function(){return e.apply(this,arguments)}}();return(0,C.jsxs)(s.Z,{sx:v.wrapper,children:[(0,C.jsx)(u.default,{}),(0,C.jsx)("form",{encType:"multipart/form-data",children:(0,C.jsx)("input",{accept:"image/*",id:"image-upload",type:"file",style:{display:"none"},onChange:function(e){var r=e.target.files[0];if(r){var t=new FileReader;t.readAsDataURL(r),t.onload=function(e){O(e.target.result)}}},required:!0})}),!I&&(0,C.jsxs)(s.Z,{children:[(0,C.jsx)(s.Z,{sx:v.descriptionWrapper,children:(0,C.jsxs)(s.Z,{sx:v.descriptions,children:[(0,C.jsx)(i.Z,{component:"li",sx:v.description,children:"Recommended dimensions 400 x 400 px"}),(0,C.jsx)(i.Z,{component:"li",sx:v.description,children:"JPG, JPEG, PNG"}),(0,C.jsx)(i.Z,{component:"li",sx:v.description,children:"Max size: 5mb"})]})}),(0,C.jsx)(s.Z,{sx:{mt:4},align:"center",children:(0,C.jsx)("label",{htmlFor:"image-upload",children:(0,C.jsx)(c.Z,{variant:"outlined",color:"primary",component:"span",startIcon:(0,C.jsx)(j.Z,{}),sx:{mt:2},children:"choose an image"})})})]}),I&&(0,C.jsx)(s.Z,{sx:v.imageCropWrapper,children:(0,C.jsx)(x.ZP,{image:I,crop:F,aspect:1,onCropChange:function(e,r){E(e),D(r)},cropShape:"rect",showGrid:!0,zoomWithScroll:!0,restrictPosition:!0,zoom:z,onZoomChange:D,dragCrop:!0,dragImage:!1,pinchToZoom:!1,allowCropOutOfBounds:!1,onCropComplete:function(e,r){N(r)},interaction:{dragCrop:!0,pinchToZoom:!1,dragImage:!1}})}),I&&(0,C.jsx)(s.Z,{sx:{mt:1},align:"center",children:(0,C.jsx)("label",{htmlFor:"image-upload",children:(0,C.jsx)(c.Z,{variant:"outlined",color:"primary",component:"span",startIcon:(0,C.jsx)(j.Z,{}),sx:{mt:2},children:"choose another image"})})}),(0,C.jsxs)(s.Z,{align:"right",sx:v.buttonsWrapper,children:[(0,C.jsx)(c.Z,{size:"small",variant:"outlined",onClick:r,children:"Cancel"}),(0,C.jsx)(c.Z,{size:"small",variant:"contained",color:"primary",sx:{ml:1},onClick:U,disabled:P,children:P?(0,C.jsx)(l.Z,{size:24,sx:{color:"white"},thickness:5}):"Save"})]})]})}},63845:function(e,r,t){t.r(r);var o=t(31243).Z.create();o.defaults.baseURL={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_DOMAIN,o.defaults.headers.common.Accept="application/json",o.defaults.headers.common["Content-Type"]="application/json",o.defaults.headers.common.Authorization="Bearer ".concat(localStorage.getItem("accessToken")),o.interceptors.response.use((function(e){return e}),(function(e){if("Network Error"===e.message)return Promise.reject(e);if(401===(e.response&&e.response.status))localStorage.removeItem("accessToken"),window.location.href="/login";return Promise.reject(e)})),r.default=o},5462:function(){}}]);
//# sourceMappingURL=9455.cbce94b1.chunk.js.map