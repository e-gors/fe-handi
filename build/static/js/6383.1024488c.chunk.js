"use strict";(self.webpackChunkfe_handi=self.webpackChunkfe_handi||[]).push([[6383,8292,3850,161,3845],{64253:function(e,r,n){n.r(r);var o=n(1413),t=n(45987),a=n(93006),s=(n(72791),n(80184)),i=["errors","name","customError"];r.default=function(e){var r=e.errors,n=e.name,c=e.customError,l=(0,t.Z)(e,i),u=!1,d="";c&&(u=!0,d=c),r&&(u=r&&r.has(n)||!1,d=r&&r.first(n)||"");var m=(0,o.Z)((0,o.Z)({error:u,name:n,helperText:d},l),{},{value:l.value||""});return(0,s.jsx)(a.Z,(0,o.Z)({size:"small",variant:"outlined"},m))}},8292:function(e,r,n){n.r(r),n.d(r,{default:function(){return t}});var o=n(75985);function t(e,r,n){return"success"===e?o.Am.success(r,n):o.Am.error(r,n)}},49293:function(e,r,n){n.r(r),n.d(r,{default:function(){return a}});var o=n(75985),t=(n(5462),n(80184));function a(){return(0,t.jsx)(o.Ix,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"})}},33850:function(e,r,n){n.r(r),n.d(r,{options:function(){return o}});var o={position:"top-right",autoClose:3e3,hideProgressBar:!1,draggable:!0,draggableDirection:0,draggablePercent:60,theme:"colored"}},76383:function(e,r,n){n.r(r),n.d(r,{default:function(){return U}});var o=n(4942),t=n(70885),a=n(1413),s=n(72791),i=n(93044),c=n(36151),l=n(4708),u=n(85523),d=n(94454),m=n(50533),p=n(35527),h=n(68870),f=n(61889),g=n(30403),Z=n(20890),x=n(67107),v=n(1701),j=n(31783),b=n(59434),P=n(3437),S=n(33850),k=n(44238),_=n(64880),A=n(80161),C=n(64253),y=n(40501),E=n(87749),w=n(3746),T=n(20165),O=n(49293),D=n(8292),I=n(63845),R=n(63466),W=n(13400),F=n(79012),H=n(13239),K=n(90668),z=n(80184),B=new j.ZP.Validator({email:"required|email",password:"required"});function L(e){return(0,z.jsxs)(Z.Z,(0,a.Z)((0,a.Z)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",(0,z.jsx)(m.Z,{color:"inherit",href:"https://mui.com/",children:"HandiWorks"})," ",(new Date).getFullYear(),"."]}))}var N=(0,x.Z)();function U(){var e=(0,_.k6)(),r=(0,b.I0)(),n=s.useState(!1),x=(0,t.Z)(n,2),j=x[0],U=x[1],q=s.useState(!1),M=(0,t.Z)(q,2),V=M[0],Y=M[1],G=s.useState({values:{email:"",password:""},errors:B.errors}),J=(0,t.Z)(G,2),Q=J[0],X=J[1],$=s.useState(!1),ee=(0,t.Z)($,2),re=ee[0],ne=ee[1];s.useEffect((function(){(0,k.isAuth)()&&e.push("/dashboard/client")}),[]);var oe=function(e){var r=e.target.name,n=e.target.value;X((function(e){return(0,a.Z)((0,a.Z)({},e),{},{values:(0,a.Z)((0,a.Z)({},e.values),{},(0,o.Z)({},r,n))})}));var t=B.errors;B.validate(r,n).then((function(){X((function(e){return(0,a.Z)((0,a.Z)({},e),{},{errors:t})}))}))},te=function(){B.validateAll(Q.values).then((function(n){n?(Y(!0),A.login(Q.values).then((function(n){if(200===n.data.code){I.default.defaults.headers.common.Authorization="Bearer ".concat(n.data.access_token);var o=n.data.user;localStorage.setItem("accessToken",n.data.access_token),localStorage.setItem("tokenExpiration",n.data.expires_in),r((0,P.setUser)(o)),"Super Admin"===o.role?e.push("/admin/dashboard"):e.push("/dashboard")}else(0,D.default)("error",n.data.message,S.options);Y(!1)})).catch((function(e){Y(!1),(0,D.default)("error",e.message,S.options)}))):X((function(e){return(0,a.Z)((0,a.Z)({},e),{},{errors:B.errors})}))}))},ae=function(e){"Enter"===e.key&&te()};return(0,z.jsxs)(v.Z,{theme:N,children:[(0,z.jsx)(O.default,{}),(0,z.jsxs)(f.ZP,{container:!0,component:"main",sx:{height:"100vh",mt:8},children:[(0,z.jsx)(l.ZP,{}),(0,z.jsx)(f.ZP,{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url(https://img.freepik.com/premium-vector/happy-labour-day-construction-workers-are-working-building-labour-day-1-may-illustration_138260-738.jpg?w=2000)",backgroundRepeat:"no-repeat",backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900]},backgroundSize:"cover",backgroundPosition:"center"}}),(0,z.jsxs)(f.ZP,{item:!0,xs:12,sm:8,md:5,component:p.Z,elevation:6,square:!0,children:[(0,z.jsxs)(h.Z,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,z.jsx)(i.Z,{sx:{m:1,bgcolor:"secondary.main"},children:(0,z.jsx)(g.Z,{})}),(0,z.jsx)(Z.Z,{component:"h1",variant:"h5",children:"Sign in"}),(0,z.jsxs)(h.Z,{component:"form",sx:K.styles.loginForm,children:[(0,z.jsx)(C.default,{onKeyPress:ae,required:!0,name:"email",errors:Q.errors,onChange:oe,value:Q.values.email,size:"small",margin:"normal",fullWidth:!0,id:"email",label:"Email Address",autoComplete:"email",autoFocus:!0,InputProps:{style:{background:"rgba(255, 255, 255, 0.5)",color:"black"},startAdornment:(0,z.jsx)(R.Z,{position:"start",children:(0,z.jsx)(y.Z,{})})}}),(0,z.jsx)(C.default,{required:!0,onKeyPress:ae,name:"password",errors:Q.errors,value:Q.values.password,onChange:oe,size:"small",margin:"normal",fullWidth:!0,label:"Password",type:j?"text":"password",id:"password",autoComplete:"current-password",InputProps:{style:{background:"rgba(255, 255, 255, 0.5)",coor:"black"},startAdornment:(0,z.jsx)(R.Z,{position:"start",children:(0,z.jsx)(E.Z,{})}),endAdornment:(0,z.jsx)(R.Z,{position:"end",children:(0,z.jsx)(W.Z,{onClick:function(){U(!j)},onMouseDown:function(e){e.preventDefault()},children:j?(0,z.jsx)(T.Z,{}):(0,z.jsx)(w.Z,{})})})}}),(0,z.jsx)(F.Z,{children:(0,z.jsx)(u.Z,{control:(0,z.jsx)(d.Z,{checked:re,onChange:function(){ne(!re)}}),label:"Remember me",labelPlacement:"end"})}),(0,z.jsx)(c.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:K.styles.loginSubmitButton,onClick:te,disabled:V,children:V?(0,z.jsx)(H.Z,{size:24}):"Login"}),(0,z.jsxs)(f.ZP,{container:!0,children:[(0,z.jsx)(f.ZP,{item:!0,xs:!0,children:(0,z.jsx)(m.Z,{href:"/forgot-password",variant:"body2",children:"Forgot password?"})}),(0,z.jsx)(f.ZP,{item:!0,children:(0,z.jsx)(m.Z,{href:"/register",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]}),(0,z.jsx)(L,{})]})]})]})}},80161:function(e,r,n){n.r(r),n.d(r,{login:function(){return t}});var o=n(31243),t=function(e){return o.Z.post("".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_DOMAIN,"/login"),e,{headers:{Accept:"application/json"}})}},63845:function(e,r,n){n.r(r);var o=n(31243).Z.create();o.defaults.baseURL={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_DOMAIN,o.defaults.headers.common.Accept="application/json",o.defaults.headers.common["Content-Type"]="application/json",o.defaults.headers.common.Authorization="Bearer ".concat(localStorage.getItem("accessToken")),o.interceptors.response.use((function(e){return e}),(function(e){if("Network Error"===e.message)return Promise.reject(e);if(401===(e.response&&e.response.status))localStorage.removeItem("accessToken"),window.location.href="/login";return Promise.reject(e)})),r.default=o}}]);
//# sourceMappingURL=6383.1024488c.chunk.js.map